#This file is for all submodders, who want to add new countries, which have respawnable rulers

th_respawn_ruler_with_new_stats_effect = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_adm_stat
			which = th_ruler_adm_stat
		}
		set_variable = {
			which = th_respawn_dip_stat
			which = th_ruler_dip_stat
		}
		set_variable = {
			which = th_respawn_mil_stat
			which = th_ruler_mil_stat
		}
	}
	hidden_effect = {
		remove_heir = { allow_new_heir = no }
	}
	if = {	#Akis
		limit = {
			OR = {
				tag = AKI
				was_tag = AKI
			}
		}
		define_ruler = {
			name = "Shizuha"
			dynasty = "Aki"
			culture = Youkai
			adm = 5
			dip = 4
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = shizuha }
		}
	}
	else_if = {	#Cirno
		limit = {
			OR = {
				tag = CIN
				was_tag = CIN
			}
		}
		define_ruler = {
			name = "Cirno"
			dynasty = "of Cirnia"
			culture = Fairy
			adm = 2
			dip = 3
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = cirno }
		}
	}
	else_if = {	#Clownpiece
		limit = {
			OR = {
				tag = CLP
				was_tag = CLP
			}
		}
		define_ruler = {
			name = "Clownpiece"
			dynasty = "of Clownsville"
			culture = Fairy
			adm = 3
			dip = 1
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = clownpiece }
		}
	}
	else_if = {	#Komeijis
		limit = {
			OR = {
				tag = CRD
				was_tag = CRD
			}
		}
		define_ruler = {
			name = "Satori"
			dynasty = "Komeiji"
			culture = Chireidean
			adm = 5
			dip = 6
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = th_original_satori
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = satori }
		}
	}
	else_if = {	#Kaguya
		limit = {
			OR = {
				tag = EIT
				was_tag = EIT
			}
		}
		define_ruler = {
			name = "Kaguya"
			dynasty = "Houraisan"
			adm = 3
			dip = 5
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_kaguya
			th_set_danmaku_ruler = { who = kaguya }
		}
	}
	else_if = {	#Flandre
		limit = {
			OR = {
				tag = FLR
				was_tag = FLR
			}
		}
		define_ruler = {
			name = "Flandre"
			dynasty = "Scarlet"
			culture = Scarlett
			adm = 5
			dip = 3
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_flan
			th_set_danmaku_ruler = { who = flandre }
		}
		#Special ruler modifer because Flandre is a reward subject for SCR
		if = {
			limit = {
				is_subject = yes
			}
			hidden_effect = {
				add_ruler_modifier = { 
					name = scr_flans_loyalty
					duration = -1
				}
			}
		}
	}
	else_if = {	#Koishi
		limit = {
			OR = {
				tag = KMJ
				was_tag = KMJ
			}
		}
		define_ruler = {
			name = "Koishi"
			dynasty = "Komeiji"
			culture = Chireidean
			adm = 5
			dip = 4
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_koishi
			th_set_danmaku_ruler = { who = koishi }
		}
	}
	else_if = {	#Alice in case hourai potion hasn't been done yet and Marisa is not ruling
		limit = {
			OR = {
				tag = FOM
				was_tag = FOM
			}
		}
		if = {
			limit = {
				has_country_modifier = fom_magician_hourai_elixir
			}
			define_ruler = {
				name = "Marisa"
				dynasty = "Kirisame"
				culture = Magician
				adm = 4
				dip = 3
				mil = 6
				age = 20
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = th_original_marisa
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
				th_set_danmaku_ruler = { who = marisa }
			}
		}
		else = {
			define_ruler = {
				name = "Alice"
				dynasty = "Margatroid"
				culture = Magician
				adm = 5
				dip = 4
				mil = 5
				age = 20
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = th_original_alice
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
				th_set_danmaku_ruler = { who = alice }
			}
		}
	}
	else_if = {	#Mokou
		limit = {
			OR = {
				tag = FUJ
				was_tag = FUJ
			}
		}
		define_ruler = {
			name = "Mokou"
			dynasty = "Fujiwara"
			culture = Eientei
			adm = 5
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_mokou
			th_set_danmaku_ruler = { who = mokou }
		}
	}
	else_if = {	#Gengetsu / Mugetsu
		limit = {
			OR = {
				tag = GNU
				was_tag = GNU
			}
		}
		define_ruler = {
			name = "Gengetsu"
			dynasty = "of the Dream World"
			culture = Youkai
			adm = 3
			dip = 4
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = gengetsu }
		}
	}
	else_if = {	#Hecatia
		limit = {
			OR = {
				tag = HEC
				was_tag = HEC
			}
		}
		define_ruler = {
			name = "Hecatia"
			dynasty = "Lapislazuli"
			culture = Higanean
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = hecatia }
		}
	}
	else_if = {	#Eiki
		limit = {
			OR = {
				tag = HIG
				was_tag = HIG
			}
		}
		define_ruler = {
			name = "Eiki"
			dynasty = "Shiki"
			culture = Higanean
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = eiki }
		}
		add_ruler_personality = just_personality
	}
	else_if = {	#Meiling
		limit = {
			OR = {
				tag = HNG
				was_tag = HNG
			}
		}
		define_ruler = {
			name = "Meiling"
			dynasty = "Hong"
			culture = Scarlett
			adm = 3
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = meiling }
		}
		#See Flandre's respawn
		if = {
			limit = {
				is_subject = yes
			}
			hidden_effect = {
				add_ruler_modifier = { 
					name = scr_meilings_loyalty
					duration = -1
				}
			}
		}
	}
	else_if = { #Tenshi / Iku
		limit = {
			OR = {
				tag = HVR
				was_tag = HVR
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = hvr_cannot_get_tenshi }
			}
			define_ruler = { #Tenshi
				name = "Tenshi"
				dynasty = "Hinanawi"
				culture = Heavenish
				adm = 3
				dip = 5
				mil = 6
				age = 20
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
				set_ruler_flag = th_original_tenshi
				th_set_danmaku_ruler = { who = tenshi }
			}
			if = {
				limit = {
					has_country_flag = Gensokyan_hvr_absolute_dictatorship_flag
				}
				add_ruler_personality = strict_personality
				add_ruler_personality = free_thinker_personality
			}
			else = {
				add_ruler_personality = babbling_buffoon_personality
				add_ruler_personality = free_thinker_personality
			}

		}
		else = {
			define_ruler = { #Iku
				name = "Iku"
				dynasty = "Nagae"
				culture = Youkai
				adm = 5
				dip = 6
				mil = 4
				age = 20
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
				th_set_danmaku_ruler = { who = iku }
			}
		}
	}
	else_if = {	#Junko
		limit = {
			OR = {
				tag = JNK
				was_tag = JNK
			}
		}
		define_ruler = {
			name = "Junko"
			dynasty = " "
			culture = Senkaian
			adm = 6
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_junko
			th_set_danmaku_ruler = { who = junko }
		}
	}
	else_if = {	#Keiki
		limit = {
			OR = {
				tag = KEI
				was_tag = KEI
			}
		}
		define_ruler = {
			name = "Keiki"
			dynasty = "Haniyasushin"
			culture = Higanean
			adm = 6
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = keiki }
		}
	}
	else_if = {	#Kokoro
		limit = {
			OR = {
				tag = KKO
				was_tag = KKO
			}
		}
		define_ruler = {
			name = "Kokoro"
			dynasty = "Hata"
			culture = Tsukumogami_culture
			adm = 4
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = kokoro }
		}
	}
	else_if = {	#Konngara
		limit = {
			OR = {
				tag = KNN
				was_tag = KNN
			}
		}
		define_ruler = {
			name = "Konngara"
			dynasty = "The Astral Knight"
			culture = Higanean
			adm = 5
			dip = 3
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = konngara }
		}
	}
	else_if = {	#Kogasa
		limit = {
			OR = {
				tag = KOG
				was_tag = KOG
			}
		}
		define_ruler = {
			name = "Kogasa"
			dynasty = "Tatara"
			culture = Tsukumogami_culture
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = kogasa }
		}
	}
	else_if = {	#Nitori
		limit = {
			OR = {
				tag = KPP
				was_tag = KPP
			}
		}
		define_ruler = {
			name = "Nitori"
			dynasty = "Kawashiro"
			culture = Kappa
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = nitori }
		}
	}
	else_if = {	#Takane
		limit = {
			OR = {
				tag = YME
				was_tag = YME
			}
		}
		define_ruler = {
			name = "Takane"
			dynasty = "Yamashiro"
			culture = Kappa
			adm = 6
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = takane }
		}
	}
	else_if = {	#Kasen
		limit = {
			OR = {
				tag = KSE
				was_tag = KSE
			}
		}
		define_ruler = {
			name = "Kasen"
			dynasty = "Ibaraki"
			culture = Oni_culture
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = kasen }
		}
	}
	else_if = {	#Larva
		limit = {
			OR = {
				tag = LRV
				was_tag = LRV
			}
		}
		define_ruler = {
			name = "Eternity"
			dynasty = "Larva"
			culture = Fairy
			adm = 2
			dip = 5
			mil = 2
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = larva }
		}
	}
	else_if = {	#Watatsuki
		limit = {
			OR = {
				tag = LCU
				was_tag = LCU
			}
		}
		define_ruler = {
			name = "Toyohime"
			dynasty = "Watatsuki"
			culture = Lunarian_culture
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = toyohime }
		}
	}
	else_if = {	#Lily
		limit = {
			OR = {
				tag = LIL
				was_tag = LIL
			}
		}
		define_ruler = {
			name = "Lily"
			dynasty = "White"
			culture = Fairy
			adm = 3
			dip = 4
			mil = 2
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = lily }
		}
	}
	else_if = {	#Yakumo
		limit = {
			OR = {
				tag = MHG
				was_tag = MHG
			}
		}
		country_event = { 	#Yukari returns
			id = flavor_mhg.101
		}
	}
	else_if = {	#Mima
		limit = {
			OR = {
				tag = MIM
				was_tag = MIM
			}
		}
		define_ruler = {
			name = "Mima"
			dynasty = "of Fantasy World"
			culture = Higanean
			adm = 5
			dip = 3
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = mima }
		}
	}
	else_if = {	#Shinki
		limit = {
			OR = {
				tag = MKI
				was_tag = MKI
			}
		}
		define_ruler = {
			name = "Shinki"
			dynasty = "of Makai"
			culture = Makaian
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = shinki }
		}
	}
	else_if = {	#Sanae
		limit = {
			OR = {
				tag = MRY
				was_tag = MRY
			}
		}
		define_ruler = {
			name = "Sanae"
			dynasty = "Kochiya"
			culture = Gensokyo_human
			adm = 5
			dip = 5
			mil = 5
			age = 18
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = sanae }
		}
	}
	else_if = {	#Byakuren
		limit = {
			OR = {
				tag = MYO
				was_tag = MYO
			}
			NOT = { has_country_flag = myo_blocked_byakuren }
		}
		define_ruler = {
			name = "Byakuren"
			dynasty = "Hijiri"
			culture = Magician
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = byakuren }
		}
		add_ruler_personality = kind_hearted_personality
	}
	else_if = {	#Ichirin
		limit = {
			OR = {
				tag = MYO
				was_tag = MYO
			}
			has_country_flag = myo_blocked_byakuren
		}
		define_ruler = {
			name = "Ichirin"
			dynasty = "Kumoi"
			culture = Youkai
			adm = 4
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = ichirin }
		}
	}
	else_if = {	#Sukuna
		limit = {
			OR = {
				tag = NCS
				was_tag = NCS
			}
		}
		define_ruler = {
			name = "Shinmyoumaru"
			dynasty = "Sukuna"
			culture = Inchling_culture
			adm = 4
			dip = 3
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = shinmyoumaru }
		}
	}
	else_if = {	#Yuyuko
		limit = {
			OR = {
				tag = NET
				was_tag = NET
			}
		}
		define_ruler = {
			name = "Yuyuko"
			dynasty = "Saigyouji"
			culture = Netherlandish
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_yuyuko
			th_set_danmaku_ruler = { who = yuyuko }
		}
	}
	else_if = {	#Okina
		limit = {
			OR = {
				tag = OKI
				was_tag = OKI
			}
		}
		define_ruler = {
			name = "Okina"
			dynasty = "Matara"
			culture = Youkai
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = okina }
		}
	}
	else_if = {	#Yuugi
		limit = {
			OR = {
				tag = ONI
				was_tag = ONI
			}
		}
		define_ruler = {
			name = "Yuugi"
			dynasty = "Hoshiguma"
			culture = Oni_culture
			adm = 5
			dip = 3
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yuugi }
		}
	}
	else_if = {	#Prismriver
		limit = {
			OR = {
				tag = PRI
				was_tag = PRI
			}
		}
		define_ruler = {
			name = "Lunasa"
			dynasty = "Prismriver"
			culture = Poltergeist_culture
			adm = 4
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = lunasa }
		}
	}
	else_if = {	#Raiko
		limit = {
			OR = {
				tag = RAI
				was_tag = RAI
			}
		}
		define_ruler = {
			name = "Raiko"
			dynasty = "Horikawa"
			culture = Tsukumogami_culture
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = raiko }
		}
	}
	else_if = {	#Remilia
		limit = {
			OR = {
				tag = SCR
				was_tag = SCR
			}
		}
		define_ruler = {
			name = "Remilia"
			dynasty = "Scarlet"
			culture = Scarlett
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_remi
			th_set_danmaku_ruler = { who = remilia }
		}
	}
	else_if = {	#Sekibanki
		limit = {
			OR = {
				tag = SEK
				was_tag = SEK
			}
		}
		define_ruler = {
			name = "Sekibanki"
			dynasty = "Nukekubi"
			culture = Youkai
			adm = 4
			dip = 3
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = sekibanki }
		}
	}
	else_if = {	#Yuuka
		limit = {
			OR = {
				tag = SFF
				was_tag = SFF
			}
		}
		define_ruler = {
			name = "Yuuka"
			dynasty = "Kazami"
			culture = Youkai
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yuuka }
		}
	}
	else_if = {	#Saki
		limit = {
			OR = {
				tag = SKI
				was_tag = SKI
			}
		}
		define_ruler = {
			name = "Saki"
			dynasty = "Kurokoma"
			culture = Higanean
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = saki }
		}
	}
	else_if = {	#Yuuma
		limit = {
			OR = {
				tag = GYK
				was_tag = GYK
			}
		}
		define_ruler = {
			name = "Yuuma"
			dynasty = "Toutetsu"
			culture = Higanean
			adm = 6
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yuuma }
		}
	}
	else_if = {	#Sakata
		limit = {
			OR = {
				tag = SKT
				was_tag = SKT
			}
		}
		define_ruler = {
			name = "Nemuno"
			dynasty = "Sakata"
			culture = Youkai
			adm = 3
			dip = 3
			mil = 6
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = nemuno }
		}
	}
	#else_if = {	#Futo (Miko has not been resurrected yet)
		#limit = {
			#OR = {
				#tag = SNK
				#was_tag = SNK
			#}
			#has_country_flag = snk_miko_locked
		#}
		#define_ruler = {
			#name = "Futo"
			#dynasty = "Mononobe"
			#culture = Senkaian
			#adm = 4
			#dip = 4
			#mil = 5
			#age = 20
			#claim = 50
			#female = yes
		#}
		#hidden_effect = {
			#add_ruler_personality = immortal_personality
			#set_ruler_flag = touhou_character_ruler
			#set_ruler_flag = touhou_original_ruler
		#}
	#}
	else_if = {	#Miko
		limit = {
			OR = {
				tag = SNK
				was_tag = SNK
			}
			#NOT = { has_country_flag = snk_miko_locked }
		}
		define_ruler = {
			name = "Miko"
			dynasty = "Toyosatomimi"
			culture = Senkaian
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = miko }
		}
	}
	else_if = {	#Three Fairies
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		define_ruler = {
			name = "Sunny"
			dynasty = "Milk"
			culture = Fairy
			adm = 3
			dip = 3
			mil = 3
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = sunny }
		}
	}
	else_if = {	#Aya
		limit = {
			OR = {
				tag = TGU
				was_tag = TGU
			}
			NOT = { has_country_flag = tgu_has_megumu_as_perma_ruler }
		}
		define_ruler = {
			name = "Aya"
			dynasty = "Shameimaru"
			culture = Tengu
			adm = 4
			dip = 6
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = aya }
		}
	}
	else_if = {	#Megumu
		limit = {
			OR = {
				tag = TGU
				was_tag = TGU
			}
			has_country_flag = tgu_has_megumu_as_perma_ruler
		}
		define_ruler = {
			name = "Megumu"
			dynasty = "Iizunamaru"
			culture = Tengu
			adm = 6
			dip = 4
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = megumu }
		}
	}
	else_if = {	#Hina
		limit = {
			OR = {
				tag = YOF
				was_tag = YOF
			}
		}
		define_ruler = {
			name = "Hina"
			dynasty = "Kagiyama"
			culture = Youkai
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = hina }
		}
	}
	else_if = {	#Yachie
		limit = {
			OR = {
				tag = YAC
				was_tag = YAC
			}
		}
		define_ruler = {
			name = "Yachie"
			dynasty = "Kicchou"
			culture = Higanean
			adm = 4
			dip = 6
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yachie }
		}
	}
	else_if = {	#Yuki
		limit = {
			OR = {
				tag = MKN
				was_tag = MKN
			}
		}
		define_ruler = {
			name = "Yuki"
			dynasty = "of Makai"
			culture = Makaian
			adm = 4
			dip = 5
			mil = 4
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yuki }
		}
	}
	else_if = {	#Utsuho
		limit = {
			OR = {
				tag = OKU
				was_tag = OKU
			}
		}
		define_ruler = {
			name = "Utsuho"
			dynasty = "Reiuji"
			culture = Chireidean
			adm = 2
			dip = 3
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = okuu }
		}
	}
	else_if = {	#Rin
		limit = {
			OR = {
				tag = ORN
				was_tag = ORN
			}
		}
		define_ruler = {
			name = "Rin"
			dynasty = "Kaenbyou"
			culture = Chireidean
			adm = 4
			dip = 5
			mil = 5
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = orin }
		}
	}
	else_if = {	#Reimu / Suika
		limit = {
			OR = {
				tag = HKR
				was_tag = HKR
			}
		}
		if = {
			limit = {
				has_country_flag = th_immortal_reimu 
			}
			define_ruler = {
				name = "Reimu"
				dynasty = "Hakurei"
				adm = 6
				dip = 6
				mil = 6
				age = 20
				culture = ROOT
				religion = ROOT
				claim = 50
				female = yes
			}
			hidden_effect = {
				set_ruler_flag = th_current_ruler_reimu_hakurei
				th_set_danmaku_ruler = { who = reimu }
			}
		}
		else_if = {
			limit = {
				has_country_flag = th_suika_is_ruler
			}
			define_ruler = {
				name = "Suika"
				dynasty = "Ibuki"
				culture = Oni_culture
				adm = 4
				dip = 4
				mil = 6
				age = 15
				claim = 95
				female = yes
			}
			add_ruler_modifier = { 
				name = HKR_suikas_power
				duration = -1
			}
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = suika }
		}
	}
	else_if = {	#Kutaka
		limit = {
			OR = {
				tag = GGS
				was_tag = GGS
			}
		}
		define_ruler = {
			name = "Kutaka"
			dynasty = "Niwatari"
			culture = Higanean
			adm = 5
			dip = 5
			mil = 4
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = kutaka }
		}
	}
	else_if = {	#Komachi
		limit = {
			OR = {
				tag = SNZ
				was_tag = SNZ
			}
		}
		define_ruler = {
			name = "Komachi"
			dynasty = "Onozuka"
			culture = Higanean
			adm = 3
			dip = 5
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = komachi }
		}
	}
	else_if = {	#Youmu
		limit = {
			OR = {
				tag = YMU
				was_tag = YMU
			}
		}
		define_ruler = {
			name = "Youmu"
			dynasty = "Konpaku"
			culture = Netherlandish
			adm = 5
			dip = 4
			mil = 5
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = youmu }
		}
	}
	else_if = {	#Rei'sen
		limit = {
			OR = {
				tag = MRU
				was_tag = MRU
			}
		}
		define_ruler = {
			name = "Rei'sen"
			dynasty = "Udonge"
			culture = Gyokuto
			adm = 4
			dip = 3
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = reisen_moon }
		}
	}
	else_if = {	#Rumia
		limit = {
			OR = {
				tag = ROD
				was_tag = ROD
			}
		}
		define_ruler = {
			name = "Rumia"
			dynasty = "von Dusk"
			culture = Youkai
			adm = 4
			dip = 4
			mil = 6
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = rumia }
		}
	}
	else_if = {	#Shou
		limit = {
			OR = {
				tag = SOU
				was_tag = SOU
			}
		}
		define_ruler = {
			name = "Shou"
			dynasty = "Toramaru"
			culture = Youkai
			adm = 5
			dip = 3
			mil = 5
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = shou }
		}
	}
	else_if = {	#Seiga
		limit = {
			OR = {
				tag = SEI
				was_tag = SEI
			}
		}
		define_ruler = {
			name = "Seiga"
			dynasty = "Kaku"
			culture = Youkai
			adm = 6
			dip = 3
			mil = 6
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = seiga }
		}
	}
	else_if = {	#Murasa
		limit = {
			OR = {
				tag = MMU
				was_tag = MMU
			}
		}
		define_ruler = {
			name = "Minamitsu"
			dynasty = "Murasa"
			culture = Youkai
			adm = 3
			dip = 5
			mil = 5
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = minamitsu }
		}
	}
	else_if = {	#Parsee
		limit = {
			OR = {
				tag = PRS
				was_tag = PRS
			}
		}
		define_ruler = {
			name = "Parsee"
			dynasty = "Mizuhashi"
			culture = Youkai
			adm = 6
			dip = 2
			mil = 6
			age = 16
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = parsee }
		}
	}
	else_if = {	#Sumireko
		limit = {
			OR = {
				tag = HIF
				was_tag = HIF
			}
		}
		define_ruler = {
			name = "Sumireko"
			dynasty = "Usami"
			culture = Gensokyo_human
			adm = 5
			dip = 5
			mil = 5
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = sumireko }
		}
	}
	else_if = {	#Yumemi
		limit = {
			OR = {
				tag = YME
				was_tag = YME
			}
		}
		define_ruler = {
			name = "Yumemi"
			dynasty = "Okazaki"
			culture = Gensokyo_human
			adm = 6
			dip = 3
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yumemi }
		}
	}
	else_if = {	#Rika
		limit = {
			OR = {
				tag = THR
				was_tag = THR
			}
		}
		define_ruler = {
			name = "Rika"
			dynasty = "The Panzerholic"
			culture = Gensokyo_human
			adm = 5
			dip = 3
			mil = 5
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = rika }
		}
	}
	else_if = {	#Momiji
		limit = {
			OR = {
				tag = HAK
				was_tag = HAK
			}
		}
		define_ruler = {
			name = "Momiji"
			dynasty = "Inubashiri"
			culture = Tengu
			adm = 4
			dip = 4
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = momiji }
		}
	}
	else_if = {	#Nue
		limit = {
			OR = {
				tag = NUE
				was_tag = NUE
			}
		}
		define_ruler = {
			name = "Nue"
			dynasty = "Houjuu"
			culture = Youkai
			adm = 4
			dip = 4
			mil = 4
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = nue }
		}
	}
	else_if = {	#Joon
		limit = {
			OR = {
				tag = JOO
				was_tag = JOO
			}
		}
		define_ruler = {
			name = "Joon"
			dynasty = "Yorigami"
			culture = Youkai
			adm = 4
			dip = 3
			mil = 6
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = joon }
		}
	}
	else_if = {	#Shion
		limit = {
			OR = {
				tag = SHI
				was_tag = SHI
			}
		}
		define_ruler = {
			name = "Shion"
			dynasty = "Yorigami"
			culture = Youkai
			adm = 6
			dip = 4
			mil = 3
			age = 15
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = shion }
		}
	}
	else_if = {	#Ran
		limit = {
			OR = {
				tag = RAN
				was_tag = RAN
			}
		}
		define_ruler = {
			name = "Ran"
			dynasty = "Yakumovna"
			culture = Youkai
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = ran }
		}
	}
	else_if = {	#Chimata
		limit = {
			OR = {
				tag = CH2
				was_tag = CH2
			}
		}
		define_ruler = {
			name = "Chimata"
			dynasty = "Tenkyuu"
			culture = Youkai
			adm = 6
			dip = 6
			mil = 4
			age = 22
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = chimata }
		}
	}
	else_if = {	#Keine
		limit = {
			OR = {
				tag = KN2
				tag = KNE
				was_tag = KNE
				was_tag = KN2
			}
		}
		define_ruler = {
			name = "Keine"
			dynasty = "Kamishirasawa"
			culture = Youkai
			adm = 6
			dip = 5
			mil = 4
			age = 22
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = keine }
		}
	}
	else_if = {	#Dai
		limit = {
			OR = {
				tag = DAY
				was_tag = DAY
			}
		}
		define_ruler = {
			name = "Daiyousei"
			dynasty = "of Daiyolia"
			culture = Fairy
			adm = 5
			dip = 4
			mil = 3
			age = 22
			claim = 50
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = daiyousei }
		}
	}
	else_if = {	#ZUN
		limit = {
			OR = {
				tag = ZUT
				was_tag = ZUT
			}
		}
		define_ruler = {
			name = "ZUN"
			dynasty = "of Team Shanghai Alice"
			culture = Gensokyo_human
			adm = 6
			dip = 6
			mil = 6
			age = 44
			claim = 100
			male = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = zun }
		}
	}
	else_if = {	#Yumemi
		limit = {
			OR = {
				tag = YUM
				was_tag = YUM
			}
		}
		define_ruler = {
			name = "Yumemi"
			dynasty = "Okazaki"
			culture = Gensokyo_human
			adm = 6
			dip = 3
			mil = 6
			age = 18
			claim = 50
			female = yes
		}
		hidden_effect = {
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			th_set_danmaku_ruler = { who = yumemi }
		}
	}
	else = {
		custom_tooltip = th_debug_effect_should_not_occur
	}
	th_restore_old_ruler_stats = yes
}

th_respawn_heir_with_new_stats_effect = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_heir_adm_stat
			which = th_heir_adm_stat
		}
		set_variable = {
			which = th_respawn_heir_dip_stat
			which = th_heir_dip_stat
		}
		set_variable = {
			which = th_respawn_heir_mil_stat
			which = th_heir_mil_stat
		}
	}
	if = {	#Akis
		limit = {
			OR = {
				tag = AKI
				was_tag = AKI
			}
		}
		define_heir = {
			name = "Minoriko"
			dynasty = "Aki"
			culture = Youkai
			adm = 5
			dip = 4
			mil = 3
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = minoriko }
		}
	}
	else_if = {	#Alice
		limit = {
			OR = {
				tag = FOM
				was_tag = FOM
			}
		}
		if = {
			limit = {
				has_ruler_flag = th_original_marisa
			}
			define_heir = {
				name = "Alice"
				dynasty = "Margatroid"
				adm = 5
				dip = 4
				mil = 5
				age = 20
				culture = Magician
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_heir_personality = immortal_personality
				set_heir_flag = touhou_character_ruler
				set_heir_flag = touhou_original_heir
				set_heir_flag = th_original_alice
				th_set_danmaku_heir = { who = alice }
			}
		}
		else = {
			define_heir = {
				name = "Marisa"
				dynasty = "Kirisame"
				culture = Magician
				adm = 4
				dip = 3
				mil = 6
				age = 20
				claim = 50
				female = yes
			}
			hidden_effect = {
				add_heir_personality = immortal_personality
				set_heir_flag = th_original_marisa
				set_heir_flag = touhou_character_ruler
				set_heir_flag = touhou_original_heir
				th_set_danmaku_heir = { who = marisa }
			}
		}
	}
	else_if = {	#Komeijis
		limit = {
			OR = {
				tag = CRD
				was_tag = CRD
			}
		}
		define_heir = {
			name = "Koishi"
			dynasty = "Komeiji"
			culture = Chireidean
			adm = 5
			dip = 4
			mil = 6
			age = 18
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = th_original_koishi
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = koishi }
		}
	}
	else_if = {	#Gengetsu / Mugetsu
		limit = {
			OR = {
				tag = GNU
				was_tag = GNU
			}
		}
		define_heir = {
			name = "Mugetsu"
			dynasty = "of the Dream World"
			culture = Youkai
			adm = 3
			dip = 4
			mil = 3
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = mugetsu }
		}
	}
	else_if = {	#Watatsuki
		limit = {
			OR = {
				tag = LCU
				was_tag = LCU
			}
		}
		define_heir = {
			name = "Yorihime"
			dynasty = "Watatsuki"
			culture = Lunarian_culture
			adm = 5
			dip = 4
			mil = 6
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = watatsuki }
		}
	}
	else_if = {	#Yakumo
		limit = {
			OR = {
				tag = MHG
				was_tag = MHG
			}
		}
		define_heir = {
			name = "Ran"
			dynasty = "Yakumo"
			culture = Youkai
			adm = 5
			dip = 5
			mil = 5
			age = 19
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = ran }
		}
	}
	else_if = {	#Prismriver
		limit = {
			OR = {
				tag = PRI
				was_tag = PRI
			}
		}
		define_heir = {
			name = "Merlin"
			dynasty = "Prismriver"
			culture = Poltergeist_culture
			adm = 4
			dip = 4
			mil = 4
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = merlin }
		}
	}
	else_if = {	#Scarlet
		limit = {
			OR = {
				tag = SCR
				was_tag = SCR
			}
		}
		define_heir = {
			name = "Flandre"
			dynasty = "Scarlet"
			culture = Scarlett
			adm = 5
			dip = 3
			mil = 6
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			set_heir_flag = th_original_flan
			th_set_danmaku_heir = { who = flandre }
		}
	}
	else_if = {	#Three Fairies
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		random_list = {
			50 = {
				define_heir = {
					name = "Luna"
					dynasty = "Child"
					culture = Fairy
					adm = 4	
					dip = 2
					mil = 3
					age = 15
					claim = 95
					female = yes
				}
				th_set_danmaku_heir = { who = luna }
			}
			50 = {
				define_heir = {
					name = "Star"
					dynasty = "Sapphire"
					culture = Fairy
					adm = 2	
					dip = 4
					mil = 3
					age = 15
					claim = 95
					female = yes
				}
				th_set_danmaku_heir = { who = star }
			}
		}
		add_heir_personality = immortal_personality
		set_heir_flag = touhou_character_ruler
		set_heir_flag = touhou_original_heir
	}
	else_if = {	#Mai
		limit = {
			OR = {
				tag = MKN
				was_tag = MKN
			}
		}
		define_heir = {
			name = "Mai"
			dynasty = "of Makai"
			culture = Makaian
			adm = 4
			dip = 4
			mil = 5
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = mai }
		}
	}
	else_if = {	#Chiyuri
		limit = {
			OR = {
				tag = YUM
				was_tag = YUM
			}
		}
		define_heir = {
			name = "Chiyuri"
			dynasty = "Kitashirakawa"
			culture = Gensokyo_human
			adm = 6
			dip = 4
			mil = 5
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			th_set_danmaku_heir = { who = chiyuri }
		}
	}
	th_restore_old_heir_stats = yes
}

th_respawn_fairy_pay_monarch_power = {
	if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 6
			}
		}
		add_$type$_power = -144
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 5
			}
		}
		add_$type$_power = -120
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 4
			}
		}
		add_$type$_power = -96
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 3
			}
		}
		add_$type$_power = -72
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 2
			}
		}
		add_$type$_power = -48
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 1
			}
		}
		add_$type$_power = -24
	}
}

#########################################
# Special case respawn effects
#########################################

th_respawn_marisa = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_adm_stat
			which = th_ruler_adm_stat
		}
		set_variable = {
			which = th_respawn_dip_stat
			which = th_ruler_dip_stat
		}
		set_variable = {
			which = th_respawn_mil_stat
			which = th_ruler_mil_stat
		}
	}
	define_ruler = {
		name = "Marisa"
		dynasty = "Kirisame"
		culture = Magician
		adm = 4
		dip = 3
		mil = 6
		age = 20
		claim = 50
		female = yes
	}
	hidden_effect = {
		add_ruler_personality = immortal_personality
		set_ruler_flag = th_original_marisa
		set_ruler_flag = touhou_character_ruler
		set_ruler_flag = touhou_original_ruler
		th_set_danmaku_ruler = { who = marisa }
	}
	th_restore_old_ruler_stats = yes
}

th_respawn_alice = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_adm_stat
			which = th_ruler_adm_stat
		}
		set_variable = {
			which = th_respawn_dip_stat
			which = th_ruler_dip_stat
		}
		set_variable = {
			which = th_respawn_mil_stat
			which = th_ruler_mil_stat
		}
	}
	define_ruler = {
		name = "Alice"
		dynasty = "Margatroid"
		culture = Magician
		adm = 5
		dip = 4
		mil = 5
		age = 20
		claim = 50
		female = yes
	}
	hidden_effect = {
		add_ruler_personality = immortal_personality
		set_ruler_flag = th_original_alice
		set_ruler_flag = touhou_character_ruler
		set_ruler_flag = touhou_original_ruler
		th_set_danmaku_ruler = { who = alice }
	}
	th_restore_old_ruler_stats = yes
}

th_respawn_mokou = {
	country_event = {
		id = flavor_fuj.104
	}
}

th_respawn_marisa_heir = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_heir_adm_stat
			which = th_heir_adm_stat
		}
		set_variable = {
			which = th_respawn_heir_dip_stat
			which = th_heir_dip_stat
		}
		set_variable = {
			which = th_respawn_heir_mil_stat
			which = th_heir_mil_stat
		}
	}
	define_heir = {
		name = "Marisa"
		dynasty = "Kirisame"
		culture = Magician
		adm = 4
		dip = 3
		mil = 6
		age = 20
		claim = 50
		female = yes
	}
	hidden_effect = {
		add_heir_personality = immortal_personality
		set_heir_flag = th_original_marisa
		set_heir_flag = touhou_character_ruler
		set_heir_flag = touhou_original_heir
		th_set_danmaku_heir = { who = marisa }
	}
	th_restore_old_heir_stats = yes
}

th_respawn_alice_heir = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_heir_adm_stat
			which = th_heir_adm_stat
		}
		set_variable = {
			which = th_respawn_heir_dip_stat
			which = th_heir_dip_stat
		}
		set_variable = {
			which = th_respawn_heir_mil_stat
			which = th_heir_mil_stat
		}
	}
	define_heir = {
		name = "Alice"
		dynasty = "Margatroid"
		adm = 5
		dip = 4
		mil = 5
		age = 20
		culture = Magician
		claim = 50
		female = yes
	}
	hidden_effect = {
		add_heir_personality = immortal_personality
		set_heir_flag = touhou_character_ruler
		set_heir_flag = touhou_original_heir
		set_heir_flag = th_original_alice
		th_set_danmaku_heir = { who = alice }
	}
	th_restore_old_heir_stats = yes
}

th_restore_old_ruler_stats = {
	hidden_effect = {
		export_to_variable = {
			variable_name = th_start_stat_adm
			value = ADM
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_start_stat_dip
			value = DIP
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_start_stat_mil
			value = MIL
			who = ROOT
		}
		subtract_variable = {
			which = th_respawn_adm_stat
			which = th_start_stat_adm
		}
		subtract_variable = {
			which = th_respawn_dip_stat
			which = th_start_stat_dip
		}
		subtract_variable = {
			which = th_respawn_mil_stat
			which = th_start_stat_mil
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_adm_stat
				value = 1
			}
		}
		change_adm = 1
		subtract_variable = {
			which = th_respawn_adm_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_dip_stat
				value = 1
			}
		}
		change_dip = 1
		subtract_variable = {
			which = th_respawn_dip_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_mil_stat
				value = 1
			}
		}
		change_mil = 1
		subtract_variable = {
			which = th_respawn_mil_stat
			value = 1
		}
	}
}

th_restore_old_heir_stats = {
	hidden_effect = {
		export_to_variable = {
			variable_name = th_heir_start_stat_adm
			value = heir_adm
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_heir_start_stat_dip
			value = heir_dip
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_heir_start_stat_mil
			value = heir_mil
			who = ROOT
		}
		subtract_variable = {
			which = th_respawn_heir_adm_stat
			which = th_start_stat_heir_adm
		}
		subtract_variable = {
			which = th_respawn_heir_dip_stat
			which = th_start_stat_heir_dip
		}
		subtract_variable = {
			which = th_respawn_heir_mil_stat
			which = th_start_stat_heir_mil
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_adm_stat
				value = 1
			}
		}
		change_heir_adm = 1
		subtract_variable = {
			which = th_respawn_heir_adm_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_dip_stat
				value = 1
			}
		}
		change_heir_dip = 1
		subtract_variable = {
			which = th_respawn_heir_dip_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_mil_stat
				value = 1
			}
		}
		change_heir_mil = 1
		subtract_variable = {
			which = th_respawn_heir_mil_stat
			value = 1
		}
	}
}