hellfairy_add_berserk_stack = {
	if = {
		limit = {
			NOT = { has_province_flag = th_hellfairy_province_has_positive_berserk }
		}
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_1
			duration = -1
		}
		set_province_flag = th_hellfairy_province_has_stack_1
		set_province_flag = th_hellfairy_province_has_positive_berserk
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_1
		}
		remove_province_modifier = th_hellfairy_berserk_1
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_2
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_1
		set_province_flag = th_hellfairy_province_has_stack_2
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_2
		}
		remove_province_modifier = th_hellfairy_berserk_2
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_3
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_2
		set_province_flag = th_hellfairy_province_has_stack_3
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_3
		}
		remove_province_modifier = th_hellfairy_berserk_3
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_4
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_3
		set_province_flag = th_hellfairy_province_has_stack_4
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_4
		}
		remove_province_modifier = th_hellfairy_berserk_4
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_5
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_4
		set_province_flag = th_hellfairy_province_has_stack_5
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_5
		}
		remove_province_modifier = th_hellfairy_berserk_5
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_6
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_5
		set_province_flag = th_hellfairy_province_has_stack_6
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_6
		}
		remove_province_modifier = th_hellfairy_berserk_6
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_7
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_6
		set_province_flag = th_hellfairy_province_has_stack_7
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_7
		}
		remove_province_modifier = th_hellfairy_berserk_7
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_8
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_7
		set_province_flag = th_hellfairy_province_has_stack_8
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_8
		}
		remove_province_modifier = th_hellfairy_berserk_8
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_9
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_8
		set_province_flag = th_hellfairy_province_has_stack_9
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_9
		}
		remove_province_modifier = th_hellfairy_berserk_9
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_10
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_9
		set_province_flag = th_hellfairy_province_has_stack_10
	}
}
 
hellfairy_remove_berserk_stack = {
	if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_1
		}
		remove_province_modifier = th_hellfairy_berserk_1
		clr_province_flag = th_hellfairy_province_has_positive_berserk
		clr_province_flag = th_hellfairy_province_has_stack_1
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_2
		}
		remove_province_modifier = th_hellfairy_berserk_2
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_1
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_2
		set_province_flag = th_hellfairy_province_has_stack_1
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_3
		}
		remove_province_modifier = th_hellfairy_berserk_3
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_2
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_3
		set_province_flag = th_hellfairy_province_has_stack_2
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_4
		}
		remove_province_modifier = th_hellfairy_berserk_4
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_3
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_4
		set_province_flag = th_hellfairy_province_has_stack_3
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_5
		}
		remove_province_modifier = th_hellfairy_berserk_5
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_4
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_5
		set_province_flag = th_hellfairy_province_has_stack_4
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_6
		}
		remove_province_modifier = th_hellfairy_berserk_6
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_5
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_6
		set_province_flag = th_hellfairy_province_has_stack_5
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_7
		}
		remove_province_modifier = th_hellfairy_berserk_7
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_6
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_7
		set_province_flag = th_hellfairy_province_has_stack_6
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_8
		}
		remove_province_modifier = th_hellfairy_berserk_8
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_7
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_8
		set_province_flag = th_hellfairy_province_has_stack_7
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_9
		}
		remove_province_modifier = th_hellfairy_berserk_9
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_8
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_9
		set_province_flag = th_hellfairy_province_has_stack_8
	}
	else_if = {
		limit = {
			has_province_modifier = th_hellfairy_berserk_10
		}
		remove_province_modifier = th_hellfairy_berserk_10
		add_permanent_province_modifier = {
			name = th_hellfairy_berserk_9
			duration = -1
		}
		clr_province_flag = th_hellfairy_province_has_stack_10
		set_province_flag = th_hellfairy_province_has_stack_9
	}
}
 
hellfairy_remove_all_berserk_stack = {
	clr_province_flag = th_hellfairy_province_has_positive_berserk
	clr_province_flag = th_hellfairy_province_has_conquest_debuff
	remove_province_modifier = th_hellfairy_berserk_1
	remove_province_modifier = th_hellfairy_berserk_2
	remove_province_modifier = th_hellfairy_berserk_3
	remove_province_modifier = th_hellfairy_berserk_4
	remove_province_modifier = th_hellfairy_berserk_5
	remove_province_modifier = th_hellfairy_berserk_6
	remove_province_modifier = th_hellfairy_berserk_7
	remove_province_modifier = th_hellfairy_berserk_8
	remove_province_modifier = th_hellfairy_berserk_9
	remove_province_modifier = th_hellfairy_berserk_10
	clr_province_flag = th_hellfairy_province_has_stack_1
	clr_province_flag = th_hellfairy_province_has_stack_2
	clr_province_flag = th_hellfairy_province_has_stack_3
	clr_province_flag = th_hellfairy_province_has_stack_4
	clr_province_flag = th_hellfairy_province_has_stack_5
	clr_province_flag = th_hellfairy_province_has_stack_6
	clr_province_flag = th_hellfairy_province_has_stack_7
	clr_province_flag = th_hellfairy_province_has_stack_8
	clr_province_flag = th_hellfairy_province_has_stack_9
	clr_province_flag = th_hellfairy_province_has_stack_10
}

hellfairy_add_conquest_debuff = {
	set_province_flag = th_hellfairy_province_has_conquest_debuff
	add_permanent_province_modifier = {
		name = th_hellfairy_province_resistance
		duration = $days$
	}
}

hellfairy_add_negative_berserk = {
	add_permanent_province_modifier = {
		name = th_hellfairy_negative_berserk
		duration = $days$
	}
}