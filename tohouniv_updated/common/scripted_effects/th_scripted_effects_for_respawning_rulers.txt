#This file is for all submodders, who want to add new countries, which have respawnable rulers

th_respawn_ruler_effect = {
	hidden_effect = {
		remove_heir = yes
	}
	if = {	#Akis
		limit = {
			OR = {
				tag = AKI
				was_tag = AKI
			}
		}
		define_ruler = {
			name = "Shizuha"
			dynasty = "Aki"
			culture = Youkai
			fixed = yes
			adm = 5
			dip = 4
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Cirno
		limit = {
			OR = {
				tag = CIN
				was_tag = CIN
			}
		}
		define_ruler = {
			name = "Cirno"
			dynasty = "of Cirnia"
			culture = Fairy
			fixed = yes
			adm = 2
			dip = 3
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Clownpiece
		limit = {
			OR = {
				tag = CLP
				was_tag = CLP
			}
		}
		define_ruler = {
			name = "Clownpiece"
			dynasty = "of Clownsville"
			culture = Fairy
			fixed = yes
			adm = 3
			dip = 1
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Komeijis
		limit = {
			OR = {
				tag = CRD
				was_tag = CRD
			}
		}
		define_ruler = {
			name = "Satori"
			dynasty = "Komeiji"
			culture = Chireidean
			fixed = yes
			adm = 5
			dip = 6
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = th_original_satori
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Kaguya
		limit = {
			OR = {
				tag = EIT
				was_tag = EIT
			}
		}
		country_event = { 	#Kaguya returns
			id = flavor_eit.101
		}
	}
	else_if = {	#Flandre
		limit = {
			OR = {
				tag = FLR
				was_tag = FLR
			}
		}
		define_ruler = {
			name = "Flandre"
			dynasty = "Scarlet"
			culture = Scarlett
			fixed = yes
			adm = 5
			dip = 3
			mil = 6
			age = 15
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_flan
		}
		#Special ruler modifer because Flandre is a reward subject for SCR
		if = {
			limit = {
				is_subject = yes
			}
			hidden_effect = {
				add_ruler_modifier = { 
					name = scr_flans_loyalty
					duration = -1
				}
			}
		}
	}
	else_if = {	#Alice in case hourai potion hasn't been done yet and Marisa is not ruling
		limit = {
			OR = {
				tag = FOM
				was_tag = FOM
			}
		}
		if = {
			limit = {
				has_country_modifier = fom_magician_hourai_elixir
			}
			define_ruler = {
				name = "Marisa"
				dynasty = "Kirisame"
				culture = Magician
				fixed = yes
				adm = 4
				dip = 3
				mil = 6
				age = 20
				claim = 100
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = th_original_marisa
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
			}
		}
		else = {
			define_ruler = {
				name = "Alice"
				dynasty = "Margatroid"
				culture = Magician
				fixed = yes
				adm = 5
				dip = 4
				mil = 5
				age = 20
				claim = 100
				female = yes
			}
			hidden_effect = {
				add_ruler_personality = immortal_personality
				set_ruler_flag = th_original_alice
				set_ruler_flag = touhou_character_ruler
				set_ruler_flag = touhou_original_ruler
			}
		}
	}
	else_if = {	#Mokou
		limit = {
			OR = {
				tag = FUJ
				was_tag = FUJ
			}
		}
		country_event = { 	#Mokou returns
			id = flavor_fuj.101
		}
	}
	else_if = {	#Gengetsu / Mugetsu
		limit = {
			OR = {
				tag = GNU
				was_tag = GNU
			}
		}
		define_ruler = {
			name = "Gengetsu"
			dynasty = "of the Dream World"
			culture = Youkai
			fixed = yes
			adm = 3
			dip = 4
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Hecatia
		limit = {
			OR = {
				tag = HEC
				was_tag = HEC
			}
		}
		define_ruler = {
			name = "Hecatia"
			dynasty = "Lapislazuli"
			culture = Higanean
			fixed = yes
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Eiki
		limit = {
			OR = {
				tag = HIG
				was_tag = HIG
			}
		}
		define_ruler = {
			name = "Eiki"
			dynasty = "Shiki"
			culture = Higanean
			fixed = yes
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
		add_ruler_personality = just_personality
	}
	else_if = {	#Meiling
		limit = {
			OR = {
				tag = HNG
				was_tag = HNG
			}
		}
		define_ruler = {
			name = "Meiling"
			dynasty = "Hong"
			culture = Scarlett
			fixed = yes
			adm = 3
			dip = 4
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
		#See Flandre's respawn
		if = {
			limit = {
				is_subject = yes
			}
			hidden_effect = {
				add_ruler_modifier = { 
					name = scr_meilings_loyalty
					duration = -1
				}
			}
		}
	}
	else_if = {	#Tenshi
		limit = {
			OR = {
				tag = HVR
				was_tag = HVR
			}
		}
		define_ruler = {
			name = "Tenshi"
			dynasty = "Hinanawi"
			culture = Heavenish
			fixed = yes
			adm = 3
			dip = 5
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
		add_ruler_personality = babbling_buffoon_personality
		add_ruler_personality = free_thinker_personality
	}
	else_if = {	#Junko
		limit = {
			OR = {
				tag = JNK
				was_tag = JNK
			}
		}
		define_ruler = {
			name = "Junko"
			dynasty = " "
			culture = Lunarian_culture
			fixed = yes
			adm = 6
			dip = 4
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Keiki
		limit = {
			OR = {
				tag = KEI
				was_tag = KEI
			}
		}
		define_ruler = {
			name = "Keiki"
			dynasty = "Haniyasushin"
			culture = Higanean
			fixed = yes
			adm = 6
			dip = 4
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Kokoro
		limit = {
			OR = {
				tag = KKO
				was_tag = KKO
			}
		}
		define_ruler = {
			name = "Kokoro"
			dynasty = "Hata"
			culture = Tsukumogami_culture
			fixed = yes
			adm = 4
			dip = 4
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Konngara
		limit = {
			OR = {
				tag = KNN
				was_tag = KNN
			}
		}
		define_ruler = {
			name = "Konngara"
			dynasty = "The Astral Knight"
			culture = Higanean
			fixed = yes
			adm = 5
			dip = 3
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Kogasa
		limit = {
			OR = {
				tag = KOG
				was_tag = KOG
			}
		}
		define_ruler = {
			name = "Kogasa"
			dynasty = "Tatara"
			culture = Tsukumogami_culture
			fixed = yes
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Nitori
		limit = {
			OR = {
				tag = KPP
				was_tag = KPP
			}
		}
		define_ruler = {
			name = "Nitori"
			dynasty = "Kawashiro"
			culture = Kappa
			fixed = yes
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Kasen
		limit = {
			OR = {
				tag = KSE
				was_tag = KSE
			}
		}
		define_ruler = {
			name = "Kasen"
			dynasty = "Ibaraki"
			culture = Oni_culture
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Larva
		limit = {
			OR = {
				tag = LRV
				was_tag = LRV
			}
		}
		define_ruler = {
			name = "Eternity"
			dynasty = "Larva"
			culture = Fairy
			fixed = yes
			adm = 2
			dip = 5
			mil = 2
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Watatsuki
		limit = {
			OR = {
				tag = LCU
				was_tag = LCU
			}
		}
		define_ruler = {
			name = "Toyohime"
			dynasty = "Watatsuki"
			culture = Lunarian_culture
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Lily
		limit = {
			OR = {
				tag = LIL
				was_tag = LIL
			}
		}
		define_ruler = {
			name = "Lily"
			dynasty = "White"
			culture = Fairy
			fixed = yes
			adm = 3
			dip = 4
			mil = 2
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yakumo
		limit = {
			OR = {
				tag = MHG
				was_tag = MHG
			}
		}
		country_event = { 	#Yukari returns
			id = flavor_mhg.101
		}
	}
	else_if = {	#Mima
		limit = {
			OR = {
				tag = MIM
				was_tag = MIM
			}
		}
		define_ruler = {
			name = "Mima"
			dynasty = "of Fantasy World"
			culture = Higanean
			fixed = yes
			adm = 5
			dip = 3
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Shinki
		limit = {
			OR = {
				tag = MKI
				was_tag = MKI
			}
		}
		define_ruler = {
			name = "Shinki"
			dynasty = "of Makai"
			culture = Makaian
			fixed = yes
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Sanae
		limit = {
			OR = {
				tag = MRY
				was_tag = MRY
			}
		}
		define_ruler = {
			name = "Sanae"
			dynasty = "Kochiya"
			culture = Gensokyo_human
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 18
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Byakuren
		limit = {
			OR = {
				tag = MYO
				was_tag = MYO
			}
		}
		define_ruler = {
			name = "Byakuren"
			dynasty = "Hijiri"
			culture = Magician
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
		add_ruler_personality = kind_hearted_personality
	}
	else_if = {	#Sukuna
		limit = {
			OR = {
				tag = NCS
				was_tag = NCS
			}
		}
		define_ruler = {
			name = "Shinmyoumaru"
			dynasty = "Sukuna"
			culture = Inchling_culture
			fixed = yes
			adm = 4
			dip = 3
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yuyuko
		limit = {
			OR = {
				tag = NET
				was_tag = NET
			}
		}
		define_ruler = {
			name = "Yuyuko"
			dynasty = "Saigyouji"
			culture = Netherlandish
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Okina
		limit = {
			OR = {
				tag = OKI
				was_tag = OKI
			}
		}
		define_ruler = {
			name = "Okina"
			dynasty = "Matara"
			culture = Youkai
			fixed = yes
			adm = 6
			dip = 6
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yuugi
		limit = {
			OR = {
				tag = ONI
				was_tag = ONI
			}
		}
		define_ruler = {
			name = "Yuugi"
			dynasty = "Hoshiguma"
			culture = Oni_culture
			fixed = yes
			adm = 5
			dip = 3
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Prismriver
		limit = {
			OR = {
				tag = PRI
				was_tag = PRI
			}
		}
		define_ruler = {
			name = "Lunasa"
			dynasty = "Prismriver"
			culture = Poltergeist_culture
			fixed = yes
			adm = 4
			dip = 4
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Raiko
		limit = {
			OR = {
				tag = RAI
				was_tag = RAI
			}
		}
		define_ruler = {
			name = "Raiko"
			dynasty = "Horikawa"
			culture = Tsukumogami_culture
			fixed = yes
			adm = 6
			dip = 5
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Scarlet
		limit = {
			OR = {
				tag = SCR
				was_tag = SCR
			}
		}
		define_ruler = {
			name = "Remilia"
			dynasty = "Scarlet"
			culture = Scarlett
			fixed = yes
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
			set_ruler_flag = th_original_remi
		}
	}
	else_if = {	#Sekibanki
		limit = {
			OR = {
				tag = SEK
				was_tag = SEK
			}
		}
		define_ruler = {
			name = "Sekibanki"
			dynasty = "Nukekubi"
			culture = Youkai
			fixed = yes
			adm = 4
			dip = 3
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yuuka
		limit = {
			OR = {
				tag = SFF
				was_tag = SFF
			}
		}
		define_ruler = {
			name = "Yuuka"
			dynasty = "Kazami"
			culture = Youkai
			fixed = yes
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Saki
		limit = {
			OR = {
				tag = SKI
				was_tag = SKI
			}
		}
		define_ruler = {
			name = "Saki"
			dynasty = "Kurukoma"
			culture = Higanean
			fixed = yes
			adm = 4
			dip = 4
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Sakata
		limit = {
			OR = {
				tag = SKT
				was_tag = SKT
			}
		}
		define_ruler = {
			name = "Nemuno"
			dynasty = "Sakata"
			culture = Youkai
			fixed = yes
			adm = 3
			dip = 3
			mil = 6
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Miko
		limit = {
			OR = {
				tag = SNK
				was_tag = SNK
			}
		}
		define_ruler = {
			name = "Miko"
			dynasty = "Toyosatomimi"
			culture = Senkaian
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Three Fairies
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		define_ruler = {
			name = "Sunny"
			dynasty = "Milk"
			culture = Fairy
			fixed = yes
			adm = 3
			dip = 3
			mil = 3
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Aya
		limit = {
			OR = {
				tag = TGU
				was_tag = TGU
			}
		}
		define_ruler = {
			name = "Aya"
			dynasty = "Shameimaru"
			culture = Tengu
			fixed = yes
			adm = 4
			dip = 6
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Hina
		limit = {
			OR = {
				tag = YOF
				was_tag = YOF
			}
		}
		define_ruler = {
			name = "Hina"
			dynasty = "Kagiyama"
			culture = Youkai
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yachie
		limit = {
			OR = {
				tag = YAC
				was_tag = YAC
			}
		}
		define_ruler = {
			name = "Yachie"
			dynasty = "Kitcho"
			culture = Higanean
			fixed = yes
			adm = 4
			dip = 6
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Yuki and Mai
		limit = {
			OR = {
				tag = MKN
				was_tag = MKN
			}
		}
		define_ruler = {
			name = "Yuki"
			dynasty = "of Makai"
			culture = Makaian
			fixed = yes
			adm = 4
			dip = 5
			mil = 4
			age = 20
			claim = 100
			female = yes
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else_if = {	#Suika
		limit = {
			OR = {
				tag = HKR
				was_tag = HKR
			}
		}
		if = {
			limit = {
				has_country_flag = th_immortal_reimu 
			}
			define_ruler = {
				name = "Reimu"
				dynasty = "Hakurei"
				adm = 6
				dip = 6
				mil = 6
				age = 20
				culture = ROOT
				religion = ROOT
				claim = 100
				female = yes
			}
			hidden_effect = {
				set_ruler_flag = th_current_ruler_reimu_hakurei
			}
		}
		else_if = {
			limit = {
				has_country_flag = th_suika_is_ruler
			}
			define_ruler = {
				name = "Suika"
				dynasty = "Ibuki"
				culture = Oni_culture
				fixed = yes
				adm = 4
				dip = 4
				mil = 6
				age = 15
				claim = 95
				female = yes
			}
			add_ruler_modifier = { 
				name = HKR_suikas_power
				duration = -1
			}
		}
		hidden_effect = {
			add_ruler_personality = immortal_personality
			set_ruler_flag = touhou_character_ruler
			set_ruler_flag = touhou_original_ruler
		}
	}
	else = {
		custom_tooltip = th_debug_effect_should_not_occur
	}
}

th_respawn_heir_effect = {
	if = {	#Akis
		limit = {
			OR = {
				tag = AKI
				was_tag = AKI
			}
		}
		define_heir = {
			name = "Minoriko"
			dynasty = "Aki"
			culture = Youkai
			fixed = yes
			adm = 5
			dip = 4
			mil = 3
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Alice
		limit = {
			OR = {
				tag = FOM
				was_tag = FOM
			}
		}
		if = {
			limit = {
				has_country_modifier = fom_magician_hourai_elixir
			}
			define_heir = {
				name = "Alice"
				dynasty = "Margatroid"
				adm = 5
				dip = 4
				mil = 5
				age = 20
				culture = Magician
				claim = 100
				female = yes
			}
			hidden_effect = {
				add_heir_personality = immortal_personality
				set_heir_flag = touhou_character_ruler
				set_heir_flag = touhou_original_heir
				set_heir_flag = th_original_alice
			}
		}
	}
	else_if = {	#Komeijis
		limit = {
			OR = {
				tag = CRD
				was_tag = CRD
			}
		}
		define_heir = {
			name = "Koishi"
			dynasty = "Komeiji"
			culture = Chireidean
			fixed = yes
			adm = 5
			dip = 4
			mil = 6
			age = 18
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = th_original_koishi
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Gengetsu / Mugetsu
		limit = {
			OR = {
				tag = GNU
				was_tag = GNU
			}
		}
		define_heir = {
			name = "Mugetsu"
			dynasty = "of the Dream World"
			culture = Youkai
			fixed = yes
			adm = 3
			dip = 4
			mil = 3
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Watatsuki
		limit = {
			OR = {
				tag = LCU
				was_tag = LCU
			}
		}
		define_heir = {
			name = "Yorihime"
			dynasty = "Watatsuki"
			culture = Lunarian_culture
			fixed = yes
			adm = 5
			dip = 4
			mil = 6
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Yakumo
		limit = {
			OR = {
				tag = MHG
				was_tag = MHG
			}
		}
		define_heir = {
			name = "Ran"
			dynasty = "Yakumo"
			culture = Youkai
			fixed = yes
			adm = 5
			dip = 5
			mil = 5
			age = 19
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Prismriver
		limit = {
			OR = {
				tag = MHG
				was_tag = MHG
			}
		}
		define_heir = {
			name = "Merlin"
			dynasty = "Prismriver"
			culture = Poltergeist_culture
			fixed = yes
			adm = 4
			dip = 4
			mil = 4
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Scarlet
		limit = {
			OR = {
				tag = SCR
				was_tag = SCR
			}
		}
		define_heir = {
			name = "Flandre"
			dynasty = "Scarlet"
			culture = Scarlett
			fixed = yes
			adm = 5
			dip = 3
			mil = 6
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
			set_heir_flag = th_original_flan
		}
	}
	else_if = {	#Three Fairies
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		define_heir = {
			name = "Luna"
			dynasty = "Child"
			culture = Fairy
			fixed = yes
			adm = 4	
			dip = 2
			mil = 3
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
	else_if = {	#Mai
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		define_heir = {
			name = "Mai"
			dynasty = "of Makai"
			culture = Makaian
			fixed = yes
			adm = 4
			dip = 4
			mil = 5
			age = 15
			claim = 95
			female = yes
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			set_heir_flag = touhou_character_ruler
			set_heir_flag = touhou_original_heir
		}
	}
}

th_respawn_ruler_with_new_stats_effect = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_adm_stat
			which = th_ruler_adm_stat
		}
		set_variable = {
			which = th_respawn_dip_stat
			which = th_ruler_dip_stat
		}
		set_variable = {
			which = th_respawn_mil_stat
			which = th_ruler_mil_stat
		}
	}
	th_respawn_ruler_effect = yes
	hidden_effect = {
		export_to_variable = {
			variable_name = th_start_stat_adm
			value = ADM
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_start_stat_dip
			value = DIP
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_start_stat_mil
			value = MIL
			who = ROOT
		}
		subtract_variable = {
			which = th_respawn_adm_stat
			which = th_start_stat_adm
		}
		subtract_variable = {
			which = th_respawn_dip_stat
			which = th_start_stat_dip
		}
		subtract_variable = {
			which = th_respawn_mil_stat
			which = th_start_stat_mil
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_adm_stat
				value = 1
			}
		}
		change_adm = 1
		subtract_variable = {
			which = th_respawn_adm_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_dip_stat
				value = 1
			}
		}
		change_dip = 1
		subtract_variable = {
			which = th_respawn_dip_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_mil_stat
				value = 1
			}
		}
		change_mil = 1
		subtract_variable = {
			which = th_respawn_mil_stat
			value = 1
		}
	}
}

th_respawn_heir_with_new_stats_effect = {
	hidden_effect = {
		set_variable = {
			which = th_respawn_heir_adm_stat
			which = th_heir_adm_stat
		}
		set_variable = {
			which = th_respawn_heir_dip_stat
			which = th_heir_dip_stat
		}
		set_variable = {
			which = th_respawn_heir_mil_stat
			which = th_heir_mil_stat
		}
	}
	if = {	#Three Fairies
		limit = {
			OR = {
				tag = TFR
				was_tag = TFR
			}
		}
		random_list = {
			50 = {
				define_heir = {
					name = "Luna"
					dynasty = "Child"
					culture = Fairy
					fixed = yes
					adm = 4	
					dip = 2
					mil = 3
					age = 15
					claim = 95
					female = yes
				}
			}
			50 = {
				define_heir = {
					name = "Star"
					dynasty = "Sapphire"
					culture = Fairy
					fixed = yes
					adm = 2	
					dip = 4
					mil = 3
					age = 15
					claim = 95
					female = yes
				}
			}
		}
	}
	hidden_effect = {
		export_to_variable = {
			variable_name = th_heir_start_stat_adm
			value = heir_adm
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_heir_start_stat_dip
			value = heir_dip
			who = ROOT
		}
		export_to_variable = {
			variable_name = th_heir_start_stat_mil
			value = heir_mil
			who = ROOT
		}
		subtract_variable = {
			which = th_respawn_heir_adm_stat
			which = th_start_stat_heir_adm
		}
		subtract_variable = {
			which = th_respawn_heir_dip_stat
			which = th_start_stat_heir_dip
		}
		subtract_variable = {
			which = th_respawn_heir_mil_stat
			which = th_start_stat_heir_mil
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_adm_stat
				value = 1
			}
		}
		change_heir_adm = 1
		subtract_variable = {
			which = th_respawn_heir_adm_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_dip_stat
				value = 1
			}
		}
		change_heir_dip = 1
		subtract_variable = {
			which = th_respawn_heir_dip_stat
			value = 1
		}
	}
	while = {
		limit = {
			check_variable = {
				which = th_respawn_heir_mil_stat
				value = 1
			}
		}
		change_heir_mil = 1
		subtract_variable = {
			which = th_respawn_heir_mil_stat
			value = 1
		}
	}
}

th_respawn_fairy_pay_monarch_power = {
	if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 6
			}
		}
		add_$type$_power = -144
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 5
			}
		}
		add_$type$_power = -120
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 4
			}
		}
		add_$type$_power = -96
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 3
			}
		}
		add_$type$_power = -72
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 2
			}
		}
		add_$type$_power = -48
	}
	else_if = {
		limit = {
			check_variable = {
				which = $variable$
				value = 1
			}
		}
		add_$type$_power = -24
	}
}
