#HKR youkai hunting
th_hunt_youkais = {
	category = th_diplo_action

	require_acceptance = no

	is_visible = {
		OR = {
			th_has_copied_from_target = {
				target = HKR
			}
			has_country_flag = th_enable_youkai_hunt
		}
	}

	is_allowed = {
		adm_power = 30
		mil_power = 15
		custom_trigger_tooltip = {
			tooltip = th_diplomacy_has_already_youkai_hunted
			FROM = {				
				OR = {
					NOT = { has_country_flag = th_has_already_youkai_hunted }
					had_country_flag = {
						flag = th_has_already_youkai_hunted
						days = 1826
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = th_diplomacy_youkai_hunt_has_one_charge
			check_variable = {
				which = th_youkai_hunt_charges
				value = 1
			}
		}
		custom_trigger_tooltip = {
			tooltip = th_diplomacy_youkai_hunt_currently_on_their_way
			NOT = { has_country_modifier = th_sent_youkai_hunter }
		}
		custom_trigger_tooltip = {
			tooltip = th_diplomacy_youkai_hunt_cant_hunt_for_enemies
			NOT = { is_rival = FROM }
			FROM = {
				NOT = { is_rival = ROOT }
				has_opinion = {
					who = ROOT
					value = -25
				}
				NOT = { war_with = ROOT }
			}
		}
	}

	on_accept = {
		th_clear_copy_flag = yes
		add_adm_power = -30
		add_mil_power = -15
		subtract_variable = {
			which = th_youkai_hunt_charges
			value = 1
		}
		add_country_modifier = {
			name = th_sent_youkai_hunter
			duration = 30
			hidden = yes
		}
		if = {
			limit = {
				NOT = { has_country_flag = th_youkai_hunt_refusal_counter_flag }
			}
			set_country_flag = th_youkai_hunt_refusal_counter_flag
			set_variable = {
				which = th_youkai_hunt_refusal_counter
				value = 0
			}
		}
		FROM = {
			clr_country_flag = th_has_already_youkai_hunted
			country_event = {
				id = th_diplo_events.18
			}
		}
	}

	ai_will_do = {
		always = no
	}
}
