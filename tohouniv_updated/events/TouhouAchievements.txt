namespace = th_achievements

#CIN Achievement - Colden Wind
country_event = {
    id = th_achievements.1
    title = th_achievements.1.t
    desc = th_achievements.1.desc
    picture = CIORNOCIVANNA_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = CIN
        }
        NOT = { has_country_flag = th_achievement_cin_colden_wind }
        owns_core_province = 112
        owns_core_province = 118
        owns_core_province = 121
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_cin_colden_wind
        }
    }

    option = {  #kono Ciorno Ciovanna niwa yume ga aru
        name = th_achievements.1.a
        add_country_modifier = {
            name = th_achievement_colden_wind
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#FLR Achievement - 
country_event = {
    id = th_achievements.2
    title = th_achievements.2.t
    desc = th_achievements.2.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = FLR
        }
        NOT = { has_country_flag = th_achievement_cin_colden_wind }
        owns_core_province = 118
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_cin_colden_wind
        }
    }

    option = {
        name = th_achievements.2.a
        add_country_modifier = {
            name = th_achievement_colden_wind
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#OKR Achievement - Dancing Samurai
country_event = {
    id = th_achievements.3
    title = th_achievements.3.t
    desc = th_achievements.3.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = OKR
        }
        NOT = { has_country_flag = th_achievement_okr_dancing_samurai }
        owns_core_province = 4976
        owns_core_province = 4975
        owns_core_province = 4822
        army_tradition = 80
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_okr_dancing_samurai
        }
    }

    option = {
        name = th_achievements.3.a
        add_country_modifier = {
            name = th_achievement_dancing_samurai
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#CLP Achievement - Insanity
country_event = {
    id = th_achievements.4
    title = th_achievements.4.t
    desc = th_achievements.4.desc
    picture = CIRNO_eventPicture
    trigger = {
        has_global_flag = th_achievements_enabled
        th_is_or_was_tag = {
            tag = CLP
        }
        NOT = { has_country_flag = th_achievement_clp_insanity }
        calc_true_if = {
            all_country = {
                custom_trigger_tooltip = {
                    tooltip = th_achievements_insanity_trigger
                    has_opinion_modifier = {
                        who = ROOT
                        modifier = aggressive_expansion
                    }
                    NOT = {
                        has_opinion = {
                            who = ROOT
                            value = 100
                        }
                    }
                    war_with = ROOT
                    NOT = { war_score = -30 }
                }
            }
            amount = 5
        }
    }
    mean_time_to_happen = { 
        days = 1
    }

    immediate = {
        hidden_effect = {
            set_country_flag = th_achievement_clp_insanity
        }
    }

    option = {
        name = th_achievements.4.a
        add_country_modifier = {
            name = th_achievement_insanity
            duration = -1
        }

        ai_chance = {
            factor = 100
        }
    }
}

#FOM Achievement - One night in the Scarlet Devil Mansion