th_initialize_danmaku_definitions = {
	if = {
		limit = { NOT = { has_global_flag = th_initialized_danmaku_database } }
		set_global_flag = th_initialized_danmaku_database
		1 = {
			#Combat related stuff:
			# 1d4 roll on initiative
			set_variable = { which = th_danmaku_default_initiative_die_num			value = 1 }
			set_variable = { which = th_danmaku_default_initiative_die				value = 4 }
			# 1d20 hit dice
			set_variable = { which = th_danmaku_default_hit_die_num					value = 1 }
			set_variable = { which = th_danmaku_default_hit_die						value = 20 }
			# Crit damage factor, need to roll a 1d20
			set_variable = { which = th_danmaku_default_crit_damage_multiplier		value = 2 }
			set_variable = { which = th_danmaku_default_crit_die_num				value = 1 }
			set_variable = { which = th_danmaku_default_crit_die					value = 20 }
			# Amount of Actions points
			set_variable = { which = th_danmaku_default_max_action_points			value = 100 }
		
			#Rewards related stuff:
			# Gold
			set_variable = { which = th_danmaku_default_gold_gain_activated			value = 1 }		#Put to 0 to deactivate gold from winning danmaku duels
			set_variable = { which = th_danmaku_default_gold_reward_scale_active	value = 1 }		#Put to 0 to deactivate gold scaling with enemy levels
			set_variable = { which = th_danmaku_default_gold_reward_base 			value = 200 }	#How much gold you get on a base level
			set_variable = { which = th_danmaku_default_gold_reward_scale 			value = 100 }	#How much gold you get additionally per enemy level
			# Monarch Power
			set_variable = { which = th_danmaku_default_power_gain_activated		value = 1 }		#Put to 0 to deactivate monarch power from winning danmaku duels
			set_variable = { which = th_danmaku_default_power_reward_scale_active	value = 1 }		#Put to 0 to deactivate monarch power scaling with enemy levels
			set_variable = { which = th_danmaku_default_power_type					value = 0 }		#What type of power you get, 0 = randomized, 
																									#1 = ADM power, 2 = DIP power, 3 = MIL power, 4 = ALL of them
			set_variable = { which = th_danmaku_default_power_reward_base 			value = 40 }	#How much monarch power you get on a base level
			set_variable = { which = th_danmaku_default_power_reward_scale 			value = 20 }	#How much monarch power you get additionally per enemy level

			set_variable = { which = th_danmaku_default_exp_reward_base 			value = 20 }	#How much exp you always get
			set_variable = { which = th_danmaku_default_exp_reward_win	 			value = 10 }	#How much exp you get from a win
			set_variable = { which = th_danmaku_default_exp_scale					value = 30 }	#How much exp you get per enemy hero level
			set_variable = { which = th_danmaku_default_exp_win_modifier			value = 1.5 }	#Multiplies th_danmaku_default_exp_scale when you win
	
			#Additional setting:
			set_variable = { which = th_danmaku_default_setting_ruler_death 		value = 0 }		#Rulers can actualy die when their live drops below 0, set to 0 to deactivate
			set_variable = { which = th_danmaku_default_setting_reroll_initiative	value = 0 }		#Initiative is rerolled after each combat round if set to 1. Otherwise, initiative only matters in the first turn
			set_variable = { which = th_danmaku_default_turn_duration				value = 18 }	#How many months you can wait before you automatically skip your turn
			set_variable = { which = th_danmaku_default_turn_duration_alarm			value = 6 }		#How many months have to remain before a notification button pops up. Set to 0 to disable it
			set_variable = { which = th_danmaku_sound_effects 						value = 1 }		#Enable or disable sound effects. 1 = enabed, 0 = disabled
	
			#Setup related stuff:
			# Default class
			th_set_default_danmaku_class = { class = warrior }
			th_set_default_danmaku_type = { type = human }
			# Basic Stats
			set_variable = { which = th_danmaku_default_max_health					value = 100 }
			set_variable = { which = th_danmaku_default_max_mana					value = 20 }
			# Regen
			set_variable = { which = th_danmaku_default_hpm							value = 2 }		#Health points per month
			set_variable = { which = th_danmaku_default_mpm							value = 1 }		#Mana points per month


			# Initiative + Hit
			set_variable = { which = th_danmaku_default_ini_bonus					value = 0 }
			set_variable = { which = th_danmaku_default_hit_bonus					value = 0 }

			# Physical Attack
			set_variable = { which = th_danmaku_default_physical_attack_bonus		value = 0 }		#The flat attack damage bonus
			set_variable = { which = th_danmaku_default_physical_attack_die			value = 10 }	#The die you roll for damage
			set_variable = { which = th_danmaku_default_physical_attack_die_num		value = 1 }		#The amount of die you roll for damage
			set_variable = { which = th_danmaku_default_physical_crit_roll_needed	value = 20 }	#Need to roll a 20 for a critical hit

			# Magical Attack
			set_variable = { which = th_danmaku_default_magical_attack_bonus		value = 0 }		#The flat attack damage bonus
			set_variable = { which = th_danmaku_default_magical_attack_die			value = 10 }	#The die you roll for damage
			set_variable = { which = th_danmaku_default_magical_attack_die_num		value = 1 }		#The amount of die you roll for damage
			set_variable = { which = th_danmaku_default_magical_crit_roll_needed	value = 20 }	#Need to roll a 20 for a critical hit

			# Psionic Attack
			set_variable = { which = th_danmaku_default_psionic_attack_bonus		value = 0 }		#The flat attack damage bonus
			set_variable = { which = th_danmaku_default_psionic_attack_die			value = 10 }	#The die you roll for damage
			set_variable = { which = th_danmaku_default_psionic_attack_die_num		value = 1 }		#The amount of die you roll for damage
			set_variable = { which = th_danmaku_default_psionic_crit_roll_needed	value = 20 }	#Need to roll a 20 for a critical hit

			# Damage specific bonuses
			set_variable = { which = th_danmaku_default_physical_damage_modifier 	value = 0 }		#Damage modifier with physical attacks, is a vast multiplier	(Suika)
			set_variable = { which = th_danmaku_default_magical_damage_modifier 	value = 0 }		#Damage modifier with magical attacks, is a vast multiplier	(Mima)
			set_variable = { which = th_danmaku_default_psionic_damage_modifier 	value = 0 }		#Damage modifier with psionic attacks, is a vast multiplier	(Sumireko)
			set_variable = { which = th_danmaku_default_bludgeoning_damage_modifier value = 0 }		#Damage modifier with bludgeoning attacks	(Yuugi)
			set_variable = { which = th_danmaku_default_piercing_damage_modifier 	value = 0 }		#Damage modifier with piercing attacks		(Sakuya)
			set_variable = { which = th_danmaku_default_slashing_damage_modifier 	value = 0 }		#Damage modifier with slashing attacks		(Tenshi)
			set_variable = { which = th_danmaku_default_fire_damage_modifier 		value = 0 }		#Damage modifier with fire attacks			(Mokou)
			set_variable = { which = th_danmaku_default_frost_damage_modifier 		value = 0 }		#Damage modifier with frost attacks			(Cirno)
			set_variable = { which = th_danmaku_default_earth_damage_modifier 		value = 0 }		#Damage modifier with earth attacks			(Kanako)
			set_variable = { which = th_danmaku_default_lightning_damage_modifier 	value = 0 }		#Damage modifier with lightning attacks		(Iku)
			set_variable = { which = th_danmaku_default_nature_damage_modifier 		value = 0 }		#Damage modifier with nature attacks		(Suwako)
			set_variable = { which = th_danmaku_default_holy_damage_modifier 		value = 0 }		#Damage modifier with holy attacks			(Reimu)
			set_variable = { which = th_danmaku_default_shadow_damage_modifier 		value = 0 }		#Damage modifier with shadow attacks		(Satori)
			set_variable = { which = th_danmaku_default_necrotic_damage_modifier 	value = 0 }		#Damage modifier with necrotic attacks		(Yuyuko)
			set_variable = { which = th_danmaku_default_arcane_damage_modifier 		value = 0 }		#Damage modifier with arcane attacks		(Marisa)
			set_variable = { which = th_danmaku_default_infernal_damage_modifier 	value = 0 }		#Damage modifier with infernal attacks		(Koakuma)

			# Healing
			set_variable = { which = th_danmaku_default_healing_die 				value = 4 }		#The die you roll for healing
			set_variable = { which = th_danmaku_default_healing_die_num				value = 1 }		#The amount of die you roll for healing
			set_variable = { which = th_danmaku_default_healing_crit_roll_needed	value = 20 }	#Need to roll a 20 for a critical heal
			set_variable = { which = th_danmaku_default_healing_received_bonus		value = 0 }		#Flat bonus on healing received
			set_variable = { which = th_danmaku_default_healing_received_modifier	value = 0 }		#Multiplicative modifier to the healing received

			# Defense
			set_variable = { which = th_danmaku_default_armor_class					value = 10 }	#Attacker has to roll higher than armor class to hit
			set_variable = { which = th_danmaku_default_saving_throw_die			value = 20 }	#Die used to make a saving throw
			set_variable = { which = th_danmaku_default_resistance					value = 0 }		#Damage gets reduced by so much %

			# Damage specific resistances
			set_variable = { which = th_danmaku_default_physical_resistance 		value = 0 }		#Damage bonus with physical attacks, is a vast multiplier	(Suika)
			set_variable = { which = th_danmaku_default_magical_resistance 			value = 0 }		#Damage bonus with magical attacks, is a vast multiplier	(Mima)
			set_variable = { which = th_danmaku_default_psionic_resistance 			value = 0 }		#Damage bonus with psionic attacks, is a vast multiplier	(Sumireko)
			set_variable = { which = th_danmaku_default_bludgeoning_resistance 		value = 0 }		#Damage bonus with bludgeoning attacks	(Yuugi)
			set_variable = { which = th_danmaku_default_piercing_resistance 		value = 0 }		#Damage bonus with piercing attacks		(Sakuya)
			set_variable = { which = th_danmaku_default_slashing_resistance 		value = 0 }		#Damage bonus with slashing attacks		(Tenshi)
			set_variable = { which = th_danmaku_default_fire_resistance 			value = 0 }		#Damage bonus with fire attacks			(Mokou)
			set_variable = { which = th_danmaku_default_frost_resistance 			value = 0 }		#Damage bonus with frost attacks		(Cirno)
			set_variable = { which = th_danmaku_default_earth_resistance 			value = 0 }		#Damage bonus with earth attacks		(Kanako)
			set_variable = { which = th_danmaku_default_lightning_resistance 		value = 0 }		#Damage bonus with lightning attacks	(Iku)
			set_variable = { which = th_danmaku_default_nature_resistance 			value = 0 }		#Damage bonus with nature attacks		(Suwako)
			set_variable = { which = th_danmaku_default_holy_resistance 			value = 0 }		#Damage bonus with holy attacks			(Reimu)
			set_variable = { which = th_danmaku_default_shadow_resistance 			value = 0 }		#Damage bonus with shadow attacks		(Satori)
			set_variable = { which = th_danmaku_default_necrotic_resistance 		value = 0 }		#Damage bonus with necrotic attacks		(Yuyuko)
			set_variable = { which = th_danmaku_default_arcane_resistance 			value = 0 }		#Damage bonus with arcane attacks		(Marisa)
			set_variable = { which = th_danmaku_default_infernal_resistance 		value = 0 }		#Damage bonus with infernal attacks		(Koakuma)

			# Reward modifier
			set_variable = { which = th_danmaku_default_gold_gain					value = 0 }
			set_variable = { which = th_danmaku_default_power_gain					value = 0 }
			# Levels
			set_variable = { which = th_danmaku_default_max_level					value = 20 }
			set_variable = { which = th_danmaku_default_start_level					value = 1 }
			set_variable = { which = th_danmaku_default_start_exp					value = 0 }
			set_variable = { which = th_danmaku_default_exp_increase				value = 100 }
			set_variable = { which = th_danmaku_default_level_1_exp 				value = 100 }
			# Skill Points
			set_variable = { which = th_danmaku_default_starting_skill_points		value = 0 }
			set_variable = { which = th_danmaku_default_skill_points_per_level		value = 1 }
			set_variable = { which = th_danmaku_default_skill_points_cost			value = 1 }
	
			#Variables for comparison sake, do not use them for math!!
			set_variable = { which = th_danmaku_armor_class				which = th_danmaku_default_armor_class }
			set_variable = { which = th_danmaku_physical_crit_roll_needed		which = th_danmaku_default_physical_crit_roll_needed }
			set_variable = { which = th_danmaku_crit_multi_show			which = th_danmaku_default_crit_damage_multiplier }
			multiply_variable = { which = th_danmaku_crit_multi_show 	value = 100 }

			#Item related variables
			set_variable = { which = th_danmaku_default_pawning_multiplier		value = 0.3 }	#How much of the original price will you receive when you sell the weapon
		}
		th_initialize_ability_data_base = yes
		th_initialize_spellcard_data_base = yes
		R01 = {
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_1
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_1
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_2
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_2
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_3
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_3
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_4
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_4
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_5
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_5
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_6
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_6
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_7
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_7
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_8
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_8
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_9
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_9
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_10
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_10
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_11
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_11
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_12
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_12
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_13
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_13
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_14
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_14
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_15
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_15
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_16
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_16
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_17
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_17
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_18
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_18
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_19
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_19
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_20
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_20
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_21
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_21
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_22
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_22
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_23
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_23
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_24
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_24
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_25
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_25
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_26
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_26
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_27
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_27
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_28
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_28
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_29
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_29
			save_global_event_target_as = th_danmaku_duelist_of_id_1_of_instance_30
			save_global_event_target_as = th_danmaku_duelist_of_id_2_of_instance_30
		}
	}
	if = {
		limit = {
			NOT = { has_country_flag = th_danmaku_setup_event }
			th_has_danmaku_duels_unlocked = yes
			has_regency = no
			is_lesser_in_union = no
			NOT = { has_ruler_flag = th_danmaku_ruler_is_set }
		}
		country_event = {
			id = th_danmaku_duel_event.1000
			days = 10
		}
	}
}

#Ability Data Base - mostly used for tooltipping
th_initialize_ability_data_base = {
	hidden_effect = {
		1 = {
			#Attack Ability
			set_variable = { which = th_ability_attack_ap_cost				value = -30 }
			set_variable = { which = th_ability_attack_hp_cost				value = 0 }
			set_variable = { which = th_ability_attack_mp_cost				value = 0 }
		}
	}
}

#Spellcard Data Base
th_initialize_spellcard_data_base = {
	hidden_effect = {
		1 = {
			#Iron Sword
			set_variable = { which = th_weapon_iron_sword_gold_cost 		value = 100 }
			set_variable = { which = th_weapon_iron_sword_gold_sale 		which = th_weapon_iron_sword_gold_cost }
			multiply_variable = { which = th_weapon_iron_sword_gold_sale 	which = th_danmaku_default_pawning_multiplier }
			set_province_flag = th_weapon_iron_sword_damage_type_physical
			set_province_flag = th_weapon_iron_sword_damage_school_slashing
			set_variable = { which = th_weapon_iron_sword_default_rarity 	value = 1 }
		}
	}
}

#Trinket Data Base
th_initialize_trinket_data_base = {
	hidden_effect = {
		1 = {

		}
	}
}

#Weapon Data Base
th_initialize_weapon_data_base = {
	hidden_effect = {
		1 = {

		}
	}
}


#Creature Specific
#human, fairy, vampire, god, demigod, immortal, undead, half_phantom, half_youkai, 
#youkai, yama, hermit, lunarian, oni, demon, devil, tengu, kappa, tsukumogami, 
#yamanba, nue, satori, angel, shinigami, inchling, doll, robot, celestial
th_set_danmaku_creature_type_human = {}
th_set_danmaku_creature_type_fairy = {}
th_set_danmaku_creature_type_vampire = {}
th_set_danmaku_creature_type_god = {}
th_set_danmaku_creature_type_demigod = {}
th_set_danmaku_creature_type_immortal = {}
th_set_danmaku_creature_type_undead = {}
th_set_danmaku_creature_type_half_phantom = {}
th_set_danmaku_creature_type_half_youkai = {}
th_set_danmaku_creature_type_youkai = {}
th_set_danmaku_creature_type_yama = {}
th_set_danmaku_creature_type_hermit = {}
th_set_danmaku_creature_type_lunarian = {}
th_set_danmaku_creature_type_oni = {}
th_set_danmaku_creature_type_demon = {}
th_set_danmaku_creature_type_devil = {}
th_set_danmaku_creature_type_tengu = {}
th_set_danmaku_creature_type_kappa = {}
th_set_danmaku_creature_type_tsukumogami = {}
th_set_danmaku_creature_type_yamanba = {}
th_set_danmaku_creature_type_nue = {}
th_set_danmaku_creature_type_satori = {}
th_set_danmaku_creature_type_angel = {}
th_set_danmaku_creature_type_shinigami = {}
th_set_danmaku_creature_type_inchling = {}
th_set_danmaku_creature_type_doll = {}
th_set_danmaku_creature_type_robot = {}
th_set_danmaku_creature_type_celestial = {}
th_set_danmaku_creature_type = {
	hidden_effect = {
		set_ruler_flag = th_danmaku_creature_type_$type$
	}
	th_set_danmaku_creature_type_$type$ = yes
}

th_set_default_danmaku_creature_type = {
	trigger_switch = {
		on_trigger = has_global_flag
		th_danmaku_creature_type_default_human = { 			th_set_danmaku_creature_type = { type = human } }
		th_danmaku_creature_type_default_fairy = { 			th_set_danmaku_creature_type = { type = fairy } }
		th_danmaku_creature_type_default_vampire = { 		th_set_danmaku_creature_type = { type = vampire } }
		th_danmaku_creature_type_default_god = { 			th_set_danmaku_creature_type = { type = god } }
		th_danmaku_creature_type_default_demigod = { 		th_set_danmaku_creature_type = { type = demigod } }
		th_danmaku_creature_type_default_immortal = { 		th_set_danmaku_creature_type = { type = immortal } }
		th_danmaku_creature_type_default_undead = { 		th_set_danmaku_creature_type = { type = undead } }
		th_danmaku_creature_type_default_half_phantom = { 	th_set_danmaku_creature_type = { type = half_phantom } }
		th_danmaku_creature_type_default_half_youkai = { 	th_set_danmaku_creature_type = { type = half_youkai } }
		th_danmaku_creature_type_default_youkai = { 		th_set_danmaku_creature_type = { type = youkai } }
		th_danmaku_creature_type_default_yama = { 			th_set_danmaku_creature_type = { type = yama } }
		th_danmaku_creature_type_default_hermit = { 		th_set_danmaku_creature_type = { type = hermit } }
		th_danmaku_creature_type_default_lunarian = { 		th_set_danmaku_creature_type = { type = lunarian } }
		th_danmaku_creature_type_default_oni = { 			th_set_danmaku_creature_type = { type = oni } }
		th_danmaku_creature_type_default_demon = { 			th_set_danmaku_creature_type = { type = demon } }
		th_danmaku_creature_type_default_devil = { 			th_set_danmaku_creature_type = { type = devil } }
		th_danmaku_creature_type_default_tengu = { 			th_set_danmaku_creature_type = { type = tengu } }
		th_danmaku_creature_type_default_kappa = { 			th_set_danmaku_creature_type = { type = kappa } }
		th_danmaku_creature_type_default_tsukumogami = { 	th_set_danmaku_creature_type = { type = tsukumogami } }
		th_danmaku_creature_type_default_yamanba = { 		th_set_danmaku_creature_type = { type = yamanba } }
		th_danmaku_creature_type_default_nue = { 			th_set_danmaku_creature_type = { type = nue } }
		th_danmaku_creature_type_default_satori = { 		th_set_danmaku_creature_type = { type = satori } }
		th_danmaku_creature_type_default_angel = { 			th_set_danmaku_creature_type = { type = angel } }
		th_danmaku_creature_type_default_shinigami = { 		th_set_danmaku_creature_type = { type = shinigami } }
		th_danmaku_creature_type_default_inchling = { 		th_set_danmaku_creature_type = { type = inchling } }
		th_danmaku_creature_type_default_doll = { 			th_set_danmaku_creature_type = { type = doll } }
		th_danmaku_creature_type_default_robot = { 			th_set_danmaku_creature_type = { type = robot } }
		th_danmaku_creature_type_default_celestial = { 		th_set_danmaku_creature_type = { type = celestial } }
	}
}


th_set_enemy_character_danmaku_creature_type_human = {}
th_set_enemy_character_danmaku_creature_type_fairy = {}
th_set_enemy_character_danmaku_creature_type_vampire = {}
th_set_enemy_character_danmaku_creature_type_god = {}
th_set_enemy_character_danmaku_creature_type_demigod = {}
th_set_enemy_character_danmaku_creature_type_immortal = {}
th_set_enemy_character_danmaku_creature_type_undead = {}
th_set_enemy_character_danmaku_creature_type_half_phantom = {}
th_set_enemy_character_danmaku_creature_type_half_youkai = {}
th_set_enemy_character_danmaku_creature_type_youkai = {}
th_set_enemy_character_danmaku_creature_type_yama = {}
th_set_enemy_character_danmaku_creature_type_hermit = {}
th_set_enemy_character_danmaku_creature_type_lunarian = {}
th_set_enemy_character_danmaku_creature_type_oni = {}
th_set_enemy_character_danmaku_creature_type_demon = {}
th_set_enemy_character_danmaku_creature_type_devil = {}
th_set_enemy_character_danmaku_creature_type_tengu = {}
th_set_enemy_character_danmaku_creature_type_kappa = {}
th_set_enemy_character_danmaku_creature_type_tsukumogami = {}
th_set_enemy_character_danmaku_creature_type_yamanba = {}
th_set_enemy_character_danmaku_creature_type_nue = {}
th_set_enemy_character_danmaku_creature_type_satori = {}
th_set_enemy_character_danmaku_creature_type_angel = {}
th_set_enemy_character_danmaku_creature_type_shinigami = {}
th_set_enemy_character_danmaku_creature_type_inchling = {}
th_set_enemy_character_danmaku_creature_type_doll = {}
th_set_enemy_character_danmaku_creature_type_robot = {}
th_set_enemy_character_danmaku_creature_type_celestial = {}
th_set_enemy_character_danmaku_creature_type = {
	hidden_effect = {
		set_country_flag = th_danmaku_enemy_danmaku_character_creature_type_$type$
	}
	th_set_enemy_character_danmaku_creature_type_$type$ = yes
}





#Class Specific
#barbarian, warrior, rogue, ranger, bard, monk, paladin, 
#cleric, priest, druid, sorcerer, warlock, mage, artificer
th_set_danmaku_class_barbarian = {}
th_set_danmaku_class_warrior = {}
th_set_danmaku_class_rogue = {}
th_set_danmaku_class_ranger = {}
th_set_danmaku_class_bard = {}
th_set_danmaku_class_monk = {}
th_set_danmaku_class_paladin = {}
th_set_danmaku_class_cleric = {}
th_set_danmaku_class_priest = {}
th_set_danmaku_class_druid = {}
th_set_danmaku_class_sorcerer = {}
th_set_danmaku_class_warlock = {}
th_set_danmaku_class_mage = {}
th_set_danmaku_class_artificer = {}
th_set_danmaku_class_commoner = {}
th_set_danmaku_class = {
	custom_tooltip = th_set_danmaku_class_$class$_tt
	hidden_effect = {
		set_ruler_flag = th_danmaku_class_$class$
	}
	th_set_danmaku_class_$class$ = yes
}

th_set_enemy_character_danmaku_class_barbarian = {}
th_set_enemy_character_danmaku_class_warrior = {}
th_set_enemy_character_danmaku_class_rogue = {}
th_set_enemy_character_danmaku_class_ranger = {}
th_set_enemy_character_danmaku_class_bard = {}
th_set_enemy_character_danmaku_class_monk = {}
th_set_enemy_character_danmaku_class_paladin = {}
th_set_enemy_character_danmaku_class_cleric = {}
th_set_enemy_character_danmaku_class_priest = {}
th_set_enemy_character_danmaku_class_druid = {}
th_set_enemy_character_danmaku_class_sorcerer = {}
th_set_enemy_character_danmaku_class_warlock = {}
th_set_enemy_character_danmaku_class_mage = {}
th_set_enemy_character_danmaku_class_artificer = {}
th_set_enemy_character_danmaku_class_commoner = {}
th_set_enemy_character_danmaku_class = {
	hidden_effect = {
		set_country_flag = th_danmaku_enemy_danmaku_character_class_$class$
	}
	th_set_danmaku_class_$class$ = yes
}



#Character Specific
#Following Touhou characters are supported:
# reimu, marisa, mima, konngara, sariel, rika, meira, kana, kotohime, ellen, rikako, chiyuri, yumemi, kurumi, elly, 
# gengetsu, mugetsu, yuuka, alice, yuki, mai, yumeko, shinki, rumia, cirno, daiyousei, meiling, koakuma, patchouli, 
# sakuya, remilia, flandre, satsuki, letty, chen, lily, prismriver, lunasa, merlin, lyrica, layla, youmu, youki, 
# yuyuko, ran, yukari, suika, wriggle, mystia, keine, tewi, reisen, eirin, kaguya, mokou, aya, medicine, komachi, 
# eiki, shizuha, minoriko, hina, nitori, momiji, sanae, kanako, suwako, iku, tenshi, kisume, yamame, parsee, yuugi, 
# satori, orin, okuu, koishi, nazrin, kogasa, ichirin, minamitsu, shou, byakuren, nue, hatate, kyouko, yoshika, 
# seiga, tojiko, futo, miko, mamizou, kokoro, wakasagihime, sekibanki, kagerou, benben, yatsuhashi, seija, shinmyoumaru, 
# raiko, sumireko, renko, maribel, seiran, ringo, doremy, sagune, clownpiece, junko, hecatia, toyohime, yorihime, 
# change, reisen_moon, joon, shion, sunny, star, luna, kasen, larva, nemuno, aunn, narumi, teireida, satonono, okina, 
# eika, urumi, kutaka, mayumi, keiki, yachie, saki, yuuma, mike, takane, sannyo, misumaru, tsukasa, megumu, chimata, 
# momoyo, son, enoko, chiyari, hisami, zanmu, rinnosuke, tokiko, miyoi, mizuchi, zun
th_set_danmaku_ruler_reimu = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = priest }
}
th_set_danmaku_ruler_marisa = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_mima = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_konngara = {
	th_set_danmaku_creature_type = { type = oni }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_sariel = {
	th_set_danmaku_creature_type = { type = angel }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_rika = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_meira = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_kana = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_kotohime = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_ellen = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_rikako = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_chiyuri = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_yumemi = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_kurumi = {
	th_set_danmaku_creature_type = { type = vampire }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_elly = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_gengetsu = {
	th_set_danmaku_creature_type = { type = demon }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_mugetsu = {
	th_set_danmaku_creature_type = { type = demon }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_yuuka = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_alice = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_yuki = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_mai = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_yumeko = {
	th_set_danmaku_creature_type = { type = demon }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_shinki = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_rumia = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_cirno = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_daiyousei = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_meiling = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = monk }
}
th_set_danmaku_ruler_koakuma = {
	th_set_danmaku_creature_type = { type = devil }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_patchouli = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_sakuya = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_remilia = {
	th_set_danmaku_creature_type = { type = vampire }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_flandre = {
	th_set_danmaku_creature_type = { type = vampire }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_satsuki = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = priest }
}
th_set_danmaku_ruler_letty = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_chen = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_lily = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_prismriver = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_lunasa = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_merlin = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_lyrica = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_layla = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_youmu = {
	th_set_danmaku_creature_type = { type = half_phantom }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_youki = {
	th_set_danmaku_creature_type = { type = half_phantom }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_yuyuko = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_ran = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_yukari = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_suika = {
	th_set_danmaku_creature_type = { type = oni }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_wriggle = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_mystia = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_keine = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_tewi = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_reisen = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_eirin = {
	th_set_danmaku_creature_type = { type = lunarian }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_kaguya = {
	th_set_danmaku_creature_type = { type = immortal }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_mokou = {
	th_set_danmaku_creature_type = { type = immortal }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_aya = {
	th_set_danmaku_creature_type = { type = tengu }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_medicine = {
	th_set_danmaku_creature_type = { type = doll }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_komachi = {
	th_set_danmaku_creature_type = { type = shinigami }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_eiki = {
	th_set_danmaku_creature_type = { type = yama }
	th_set_danmaku_class = { class = paladin }
}
th_set_danmaku_ruler_shizuha = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_minoriko = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_hina = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_nitori = {
	th_set_danmaku_creature_type = { type = kappa }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_momiji = {
	th_set_danmaku_creature_type = { type = tengu }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_sanae = {
	th_set_danmaku_creature_type = { type = demigod }
	th_set_danmaku_class = { class = priest }
}
th_set_danmaku_ruler_kanako = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_suwako = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_iku = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_tenshi = {
	th_set_danmaku_creature_type = { type = celestial }
	th_set_danmaku_class = { class = paladin }
}
th_set_danmaku_ruler_kisume = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_yamame = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_parsee = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_yuugi = {
	th_set_danmaku_creature_type = { type = oni }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_satori = {
	th_set_danmaku_creature_type = { type = satori }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_orin = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_okuu = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_koishi = {
	th_set_danmaku_creature_type = { type = satori }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_nazrin = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_kogasa = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_ichirin = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_minamitsu = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_shou = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_byakuren = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = monk }
}
th_set_danmaku_ruler_nue = {
	th_set_danmaku_creature_type = { type = nue }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_hatate = {
	th_set_danmaku_creature_type = { type = tengu }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_kyouko = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_yoshika = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_seiga = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_tojiko = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_futo = {
	th_set_danmaku_creature_type = { type = hermit }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_miko = {
	th_set_danmaku_creature_type = { type = hermit }
	th_set_danmaku_class = { class = paladin }
}
th_set_danmaku_ruler_mamizou = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_kokoro = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_wakasagihime = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_sekibanki = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_kagerou = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_benben = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_yatsuhashi = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_seija = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_shinmyoumaru = {
	th_set_danmaku_creature_type = { type = inchling }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_raiko = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_sumireko = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_renko = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_maribel = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_seiran = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_ringo = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_doremy = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_sagune = {
	th_set_danmaku_creature_type = { type = lunarian }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_clownpiece = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_junko = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_hecatia = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_toyohime = {
	th_set_danmaku_creature_type = { type = lunarian }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_yorihime = {
	th_set_danmaku_creature_type = { type = lunarian }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_change = {
	th_set_danmaku_creature_type = { type = lunarian }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_reisen_moon = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_joon = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_shion = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_sunny = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_star = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_luna = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_kasen = {
	th_set_danmaku_creature_type = { type = oni }
	th_set_danmaku_class = { class = monk }
}
th_set_danmaku_ruler_larva = {
	th_set_danmaku_creature_type = { type = fairy }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_nemuno = {
	th_set_danmaku_creature_type = { type = yamanba }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_aunn = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_narumi = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = mage }
}
th_set_danmaku_ruler_teireida = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_satonono = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_okina = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_eika = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_urumi = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_kutaka = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = druid }
}
th_set_danmaku_ruler_mayumi = {
	th_set_danmaku_creature_type = { type = tsukumogami }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_keiki = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = cleric }
}
th_set_danmaku_ruler_yachie = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_saki = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_yuuma = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_mike = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_takane = {
	th_set_danmaku_creature_type = { type = kappa }
	th_set_danmaku_class = { class = artificer }
}
th_set_danmaku_ruler_sannyo = {
	th_set_danmaku_creature_type = { type = yamanba }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_misumaru = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = sorcerer }
}
th_set_danmaku_ruler_tsukasa = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_megumu = {
	th_set_danmaku_creature_type = { type = tengu }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_chimata = {
	th_set_danmaku_creature_type = { type = god }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_momoyo = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_son = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = monk }
}
th_set_danmaku_ruler_enoko = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = ranger }
}
th_set_danmaku_ruler_chiyari = {
	th_set_danmaku_creature_type = { type = demon }
	th_set_danmaku_class = { class = rogue }
}
th_set_danmaku_ruler_hisami = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_zanmu = {
	th_set_danmaku_creature_type = { type = oni }
	th_set_danmaku_class = { class = barbarian }
}
th_set_danmaku_ruler_rinnosuke = {
	th_set_danmaku_creature_type = { type = half_youkai }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_tokiko = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = warrior }
}
th_set_danmaku_ruler_miyoi = {
	th_set_danmaku_creature_type = { type = youkai }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_mizuchi = {
	th_set_danmaku_creature_type = { type = undead }
	th_set_danmaku_class = { class = warlock }
}
th_set_danmaku_ruler_zun = {
	th_set_danmaku_creature_type = { type = human }
	th_set_danmaku_class = { class = bard }
}
th_set_danmaku_ruler_generic = {
	th_set_default_danmaku_creature_type = yes
	if = {
		limit = {
			ruler_total_stats = { amount = 10 }
		}
		random_list = {
			1 = { th_set_danmaku_class = { class = ranger } }
			1 = { th_set_danmaku_class = { class = warrior } }
			1 = { th_set_danmaku_class = { class = barbarian } }
			1 = { th_set_danmaku_class = { class = bard } }
		}
	}
	else = {
		th_set_danmaku_class = { class = commoner }
	}
}

th_set_dynamically_danmaku_ruler = {
	if = {
		limit = { 
			th_has_danmaku_duels_unlocked = yes
			has_regency = no
			is_lesser_in_union = no
			NOT = { has_ruler_flag = th_danmaku_ruler_is_set }
		}
		if = { limit = { 	  th_has_specific_touhou_character = { who = reimu } } 			th_set_danmaku_ruler = { who = reimu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = marisa } }			th_set_danmaku_ruler = { who = marisa } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mima } }			th_set_danmaku_ruler = { who = mima } }
		else_if = { limit = { th_has_specific_touhou_character = { who = konngara } }		th_set_danmaku_ruler = { who = konngara } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sariel } }			th_set_danmaku_ruler = { who = sariel } }
		else_if = { limit = { th_has_specific_touhou_character = { who = rika } }			th_set_danmaku_ruler = { who = rika } }
		else_if = { limit = { th_has_specific_touhou_character = { who = meira } }			th_set_danmaku_ruler = { who = meira } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kana } }			th_set_danmaku_ruler = { who = kana } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kotohime } }		th_set_danmaku_ruler = { who = kotohime } }
		else_if = { limit = { th_has_specific_touhou_character = { who = ellen } }			th_set_danmaku_ruler = { who = ellen } }
		else_if = { limit = { th_has_specific_touhou_character = { who = rikako } }			th_set_danmaku_ruler = { who = rikako } }
		else_if = { limit = { th_has_specific_touhou_character = { who = chiyuri } }		th_set_danmaku_ruler = { who = chiyuri } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yumemi } }			th_set_danmaku_ruler = { who = yumemi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kurumi } }			th_set_danmaku_ruler = { who = kurumi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = elly } }			th_set_danmaku_ruler = { who = elly } }
		else_if = { limit = { th_has_specific_touhou_character = { who = gengetsu } }		th_set_danmaku_ruler = { who = gengetsu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mugetsu } }		th_set_danmaku_ruler = { who = mugetsu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yuuka } }			th_set_danmaku_ruler = { who = yuuka } }
		else_if = { limit = { th_has_specific_touhou_character = { who = alice } }			th_set_danmaku_ruler = { who = alice } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yuki } }			th_set_danmaku_ruler = { who = yuki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mai } }			th_set_danmaku_ruler = { who = mai } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yumeko } }			th_set_danmaku_ruler = { who = yumeko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = shinki } }			th_set_danmaku_ruler = { who = shinki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = rumia } }			th_set_danmaku_ruler = { who = rumia } }
		else_if = { limit = { th_has_specific_touhou_character = { who = cirno } }			th_set_danmaku_ruler = { who = cirno } }
		else_if = { limit = { th_has_specific_touhou_character = { who = daiyousei } }		th_set_danmaku_ruler = { who = daiyousei } }
		else_if = { limit = { th_has_specific_touhou_character = { who = meiling } }		th_set_danmaku_ruler = { who = meiling } }
		else_if = { limit = { th_has_specific_touhou_character = { who = koakuma } }		th_set_danmaku_ruler = { who = koakuma } }
		else_if = { limit = { th_has_specific_touhou_character = { who = patchouli } }		th_set_danmaku_ruler = { who = patchouli } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sakuya } }			th_set_danmaku_ruler = { who = sakuya } }
		else_if = { limit = { th_has_specific_touhou_character = { who = remilia } }		th_set_danmaku_ruler = { who = remilia } }
		else_if = { limit = { th_has_specific_touhou_character = { who = flandre } }		th_set_danmaku_ruler = { who = flandre } }
		else_if = { limit = { th_has_specific_touhou_character = { who = satsuki } }		th_set_danmaku_ruler = { who = satsuki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = letty } }			th_set_danmaku_ruler = { who = letty } }
		else_if = { limit = { th_has_specific_touhou_character = { who = chen } }			th_set_danmaku_ruler = { who = chen } }
		else_if = { limit = { th_has_specific_touhou_character = { who = lily } }			th_set_danmaku_ruler = { who = lily } }
		else_if = { limit = { th_has_specific_touhou_character = { who = prismriver } }		th_set_danmaku_ruler = { who = prismriver } }
		else_if = { limit = { th_has_specific_touhou_character = { who = lunasa } }			th_set_danmaku_ruler = { who = lunasa } }
		else_if = { limit = { th_has_specific_touhou_character = { who = merlin } }			th_set_danmaku_ruler = { who = merlin } }
		else_if = { limit = { th_has_specific_touhou_character = { who = lyrica } }			th_set_danmaku_ruler = { who = lyrica } }
		else_if = { limit = { th_has_specific_touhou_character = { who = layla } }			th_set_danmaku_ruler = { who = layla } }
		else_if = { limit = { th_has_specific_touhou_character = { who = youmu } }			th_set_danmaku_ruler = { who = youmu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = youki } }			th_set_danmaku_ruler = { who = youki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yuyuko } }			th_set_danmaku_ruler = { who = yuyuko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = ran } }			th_set_danmaku_ruler = { who = ran } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yukari } }			th_set_danmaku_ruler = { who = yukari } }
		else_if = { limit = { th_has_specific_touhou_character = { who = suika } }			th_set_danmaku_ruler = { who = suika } }
		else_if = { limit = { th_has_specific_touhou_character = { who = wriggle } }		th_set_danmaku_ruler = { who = wriggle } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mystia } }			th_set_danmaku_ruler = { who = mystia } }
		else_if = { limit = { th_has_specific_touhou_character = { who = keine } }			th_set_danmaku_ruler = { who = keine } }
		else_if = { limit = { th_has_specific_touhou_character = { who = tewi } }			th_set_danmaku_ruler = { who = tewi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = reisen } }			th_set_danmaku_ruler = { who = reisen } }
		else_if = { limit = { th_has_specific_touhou_character = { who = eirin } }			th_set_danmaku_ruler = { who = eirin } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kaguya } }			th_set_danmaku_ruler = { who = kaguya } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mokou } }			th_set_danmaku_ruler = { who = mokou } }
		else_if = { limit = { th_has_specific_touhou_character = { who = aya } }			th_set_danmaku_ruler = { who = aya } }
		else_if = { limit = { th_has_specific_touhou_character = { who = medicine } }		th_set_danmaku_ruler = { who = medicine } }
		else_if = { limit = { th_has_specific_touhou_character = { who = komachi } }		th_set_danmaku_ruler = { who = komachi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = eiki } }			th_set_danmaku_ruler = { who = eiki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = shizuha } }		th_set_danmaku_ruler = { who = shizuha } }
		else_if = { limit = { th_has_specific_touhou_character = { who = minoriko } }		th_set_danmaku_ruler = { who = minoriko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = hina } }			th_set_danmaku_ruler = { who = hina } }
		else_if = { limit = { th_has_specific_touhou_character = { who = nitori } }			th_set_danmaku_ruler = { who = nitori } }
		else_if = { limit = { th_has_specific_touhou_character = { who = momiji } }			th_set_danmaku_ruler = { who = momiji } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sanae } }			th_set_danmaku_ruler = { who = sanae } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kanako } }			th_set_danmaku_ruler = { who = kanako } }
		else_if = { limit = { th_has_specific_touhou_character = { who = suwako } }			th_set_danmaku_ruler = { who = suwako } }
		else_if = { limit = { th_has_specific_touhou_character = { who = iku } }			th_set_danmaku_ruler = { who = iku } }
		else_if = { limit = { th_has_specific_touhou_character = { who = tenshi } }			th_set_danmaku_ruler = { who = tenshi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kisume } }			th_set_danmaku_ruler = { who = kisume } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yamame } }			th_set_danmaku_ruler = { who = yamame } }
		else_if = { limit = { th_has_specific_touhou_character = { who = parsee } }			th_set_danmaku_ruler = { who = parsee } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yuugi } }			th_set_danmaku_ruler = { who = yuugi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = satori } }			th_set_danmaku_ruler = { who = satori } }
		else_if = { limit = { th_has_specific_touhou_character = { who = orin } }			th_set_danmaku_ruler = { who = orin } }
		else_if = { limit = { th_has_specific_touhou_character = { who = okuu } }			th_set_danmaku_ruler = { who = okuu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = koishi } }			th_set_danmaku_ruler = { who = koishi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = nazrin } }			th_set_danmaku_ruler = { who = nazrin } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kogasa } }			th_set_danmaku_ruler = { who = kogasa } }
		else_if = { limit = { th_has_specific_touhou_character = { who = ichirin } }		th_set_danmaku_ruler = { who = ichirin } }
		else_if = { limit = { th_has_specific_touhou_character = { who = minamitsu } }		th_set_danmaku_ruler = { who = minamitsu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = shou } }			th_set_danmaku_ruler = { who = shou } }
		else_if = { limit = { th_has_specific_touhou_character = { who = byakuren } }		th_set_danmaku_ruler = { who = byakuren } }
		else_if = { limit = { th_has_specific_touhou_character = { who = nue } }			th_set_danmaku_ruler = { who = nue } }
		else_if = { limit = { th_has_specific_touhou_character = { who = hatate } }			th_set_danmaku_ruler = { who = hatate } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kyouko } }			th_set_danmaku_ruler = { who = kyouko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yoshika } }		th_set_danmaku_ruler = { who = yoshika } }
		else_if = { limit = { th_has_specific_touhou_character = { who = seiga } }			th_set_danmaku_ruler = { who = seiga } }
		else_if = { limit = { th_has_specific_touhou_character = { who = tojiko } }			th_set_danmaku_ruler = { who = tojiko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = futo } }			th_set_danmaku_ruler = { who = futo } }
		else_if = { limit = { th_has_specific_touhou_character = { who = miko } }			th_set_danmaku_ruler = { who = miko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mamizou } }		th_set_danmaku_ruler = { who = mamizou } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kokoro } }			th_set_danmaku_ruler = { who = kokoro } }
		else_if = { limit = { th_has_specific_touhou_character = { who = wakasagihime } }	th_set_danmaku_ruler = { who = wakasagihime } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sekibanki } }		th_set_danmaku_ruler = { who = sekibanki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kagerou } }		th_set_danmaku_ruler = { who = kagerou } }
		else_if = { limit = { th_has_specific_touhou_character = { who = benben } }			th_set_danmaku_ruler = { who = benben } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yatsuhashi } }		th_set_danmaku_ruler = { who = yatsuhashi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = seija } }			th_set_danmaku_ruler = { who = seija } }
		else_if = { limit = { th_has_specific_touhou_character = { who = shinmyoumaru } }	th_set_danmaku_ruler = { who = shinmyoumaru } }
		else_if = { limit = { th_has_specific_touhou_character = { who = raiko } }			th_set_danmaku_ruler = { who = raiko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sumireko } }		th_set_danmaku_ruler = { who = sumireko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = renko } }			th_set_danmaku_ruler = { who = renko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = maribel } }		th_set_danmaku_ruler = { who = maribel } }
		else_if = { limit = { th_has_specific_touhou_character = { who = seiran } }			th_set_danmaku_ruler = { who = seiran } }
		else_if = { limit = { th_has_specific_touhou_character = { who = ringo } }			th_set_danmaku_ruler = { who = ringo } }
		else_if = { limit = { th_has_specific_touhou_character = { who = doremy } }			th_set_danmaku_ruler = { who = doremy } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sagune } }			th_set_danmaku_ruler = { who = sagune } }
		else_if = { limit = { th_has_specific_touhou_character = { who = clownpiece } }		th_set_danmaku_ruler = { who = clownpiece } }
		else_if = { limit = { th_has_specific_touhou_character = { who = junko } }			th_set_danmaku_ruler = { who = junko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = hecatia } }		th_set_danmaku_ruler = { who = hecatia } }
		else_if = { limit = { th_has_specific_touhou_character = { who = toyohime } }		th_set_danmaku_ruler = { who = toyohime } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yorihime } }		th_set_danmaku_ruler = { who = yorihime } }
		else_if = { limit = { th_has_specific_touhou_character = { who = change } }			th_set_danmaku_ruler = { who = change } }
		else_if = { limit = { th_has_specific_touhou_character = { who = reisen_moon } }	th_set_danmaku_ruler = { who = reisen_moon } }
		else_if = { limit = { th_has_specific_touhou_character = { who = joon } }			th_set_danmaku_ruler = { who = joon } }
		else_if = { limit = { th_has_specific_touhou_character = { who = shion } }			th_set_danmaku_ruler = { who = shion } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sunny } }			th_set_danmaku_ruler = { who = sunny } }
		else_if = { limit = { th_has_specific_touhou_character = { who = star } }			th_set_danmaku_ruler = { who = star } }
		else_if = { limit = { th_has_specific_touhou_character = { who = luna } }			th_set_danmaku_ruler = { who = luna } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kasen } }			th_set_danmaku_ruler = { who = kasen } }
		else_if = { limit = { th_has_specific_touhou_character = { who = larva } }			th_set_danmaku_ruler = { who = larva } }
		else_if = { limit = { th_has_specific_touhou_character = { who = nemuno } }			th_set_danmaku_ruler = { who = nemuno } }
		else_if = { limit = { th_has_specific_touhou_character = { who = aunn } }			th_set_danmaku_ruler = { who = aunn } }
		else_if = { limit = { th_has_specific_touhou_character = { who = narumi } }			th_set_danmaku_ruler = { who = narumi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = teireida } }		th_set_danmaku_ruler = { who = teireida } }
		else_if = { limit = { th_has_specific_touhou_character = { who = satonono } }		th_set_danmaku_ruler = { who = satonono } }
		else_if = { limit = { th_has_specific_touhou_character = { who = okina } }			th_set_danmaku_ruler = { who = okina } }
		else_if = { limit = { th_has_specific_touhou_character = { who = eika } }			th_set_danmaku_ruler = { who = eika } }
		else_if = { limit = { th_has_specific_touhou_character = { who = urumi } }			th_set_danmaku_ruler = { who = urumi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = kutaka } }			th_set_danmaku_ruler = { who = kutaka } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mayumi } }			th_set_danmaku_ruler = { who = mayumi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = keiki } }			th_set_danmaku_ruler = { who = keiki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yachie } }			th_set_danmaku_ruler = { who = yachie } }
		else_if = { limit = { th_has_specific_touhou_character = { who = saki } }			th_set_danmaku_ruler = { who = saki } }
		else_if = { limit = { th_has_specific_touhou_character = { who = yuuma } }			th_set_danmaku_ruler = { who = yuuma } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mike } }			th_set_danmaku_ruler = { who = mike } }
		else_if = { limit = { th_has_specific_touhou_character = { who = takane } }			th_set_danmaku_ruler = { who = takane } }
		else_if = { limit = { th_has_specific_touhou_character = { who = sannyo } }			th_set_danmaku_ruler = { who = sannyo } }
		else_if = { limit = { th_has_specific_touhou_character = { who = misumaru } }		th_set_danmaku_ruler = { who = misumaru } }
		else_if = { limit = { th_has_specific_touhou_character = { who = tsukasa } }		th_set_danmaku_ruler = { who = tsukasa } }
		else_if = { limit = { th_has_specific_touhou_character = { who = megumu } }			th_set_danmaku_ruler = { who = megumu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = chimata } }		th_set_danmaku_ruler = { who = chimata } }
		else_if = { limit = { th_has_specific_touhou_character = { who = momoyo } }			th_set_danmaku_ruler = { who = momoyo } }
		else_if = { limit = { th_has_specific_touhou_character = { who = son } }			th_set_danmaku_ruler = { who = son } }
		else_if = { limit = { th_has_specific_touhou_character = { who = enoko } }			th_set_danmaku_ruler = { who = enoko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = chiyari } }		th_set_danmaku_ruler = { who = chiyari } }
		else_if = { limit = { th_has_specific_touhou_character = { who = hisami } }			th_set_danmaku_ruler = { who = hisami } }
		else_if = { limit = { th_has_specific_touhou_character = { who = zanmu } }			th_set_danmaku_ruler = { who = zanmu } }
		else_if = { limit = { th_has_specific_touhou_character = { who = rinnosuke } }		th_set_danmaku_ruler = { who = rinnosuke } }
		else_if = { limit = { th_has_specific_touhou_character = { who = tokiko } }			th_set_danmaku_ruler = { who = tokiko } }
		else_if = { limit = { th_has_specific_touhou_character = { who = miyoi } }			th_set_danmaku_ruler = { who = miyoi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = mizuchi } }		th_set_danmaku_ruler = { who = mizuchi } }
		else_if = { limit = { th_has_specific_touhou_character = { who = zun } }			th_set_danmaku_ruler = { who = zun } }
		else = { th_set_danmaku_ruler = { who = generic } }
	}
}
th_set_dynamically_danmaku_heir = {
	set_heir_flag = th_danmaku_ruler_$who$
}

th_define_enemy_danmaku_character_reimu = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = priest }
}
th_define_enemy_danmaku_character_marisa = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_mima = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_konngara = {
	th_set_enemy_character_danmaku_creature_type = { type = oni }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_sariel = {
	th_set_enemy_character_danmaku_creature_type = { type = angel }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_rika = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_meira = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_kana = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_kotohime = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_ellen = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_rikako = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_chiyuri = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_yumemi = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_kurumi = {
	th_set_enemy_character_danmaku_creature_type = { type = vampire }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_elly = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_gengetsu = {
	th_set_enemy_character_danmaku_creature_type = { type = demon }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_mugetsu = {
	th_set_enemy_character_danmaku_creature_type = { type = demon }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_yuuka = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_alice = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_yuki = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_mai = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_yumeko = {
	th_set_enemy_character_danmaku_creature_type = { type = demon }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_shinki = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_rumia = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_cirno = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_daiyousei = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_meiling = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = monk }
}
th_define_enemy_danmaku_character_koakuma = {
	th_set_enemy_character_danmaku_creature_type = { type = devil }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_patchouli = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_sakuya = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_remilia = {
	th_set_enemy_character_danmaku_creature_type = { type = vampire }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_flandre = {
	th_set_enemy_character_danmaku_creature_type = { type = vampire }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_satsuki = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = priest }
}
th_define_enemy_danmaku_character_letty = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_chen = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_lily = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_prismriver = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_lunasa = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_merlin = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_lyrica = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_layla = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_youmu = {
	th_set_enemy_character_danmaku_creature_type = { type = half_phantom }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_youki = {
	th_set_enemy_character_danmaku_creature_type = { type = half_phantom }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_yuyuko = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_ran = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_yukari = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_suika = {
	th_set_enemy_character_danmaku_creature_type = { type = oni }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_wriggle = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_mystia = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_keine = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_tewi = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_reisen = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_eirin = {
	th_set_enemy_character_danmaku_creature_type = { type = lunarian }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_kaguya = {
	th_set_enemy_character_danmaku_creature_type = { type = immortal }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_mokou = {
	th_set_enemy_character_danmaku_creature_type = { type = immortal }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_aya = {
	th_set_enemy_character_danmaku_creature_type = { type = tengu }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_medicine = {
	th_set_enemy_character_danmaku_creature_type = { type = doll }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_komachi = {
	th_set_enemy_character_danmaku_creature_type = { type = shinigami }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_eiki = {
	th_set_enemy_character_danmaku_creature_type = { type = yama }
	th_set_enemy_character_danmaku_class = { class = paladin }
}
th_define_enemy_danmaku_character_shizuha = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_minoriko = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_hina = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_nitori = {
	th_set_enemy_character_danmaku_creature_type = { type = kappa }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_momiji = {
	th_set_enemy_character_danmaku_creature_type = { type = tengu }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_sanae = {
	th_set_enemy_character_danmaku_creature_type = { type = demigod }
	th_set_enemy_character_danmaku_class = { class = priest }
}
th_define_enemy_danmaku_character_kanako = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_suwako = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_iku = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_tenshi = {
	th_set_enemy_character_danmaku_creature_type = { type = celestial }
	th_set_enemy_character_danmaku_class = { class = paladin }
}
th_define_enemy_danmaku_character_kisume = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_yamame = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_parsee = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_yuugi = {
	th_set_enemy_character_danmaku_creature_type = { type = oni }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_satori = {
	th_set_enemy_character_danmaku_creature_type = { type = satori }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_orin = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_okuu = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_koishi = {
	th_set_enemy_character_danmaku_creature_type = { type = satori }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_nazrin = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_kogasa = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_ichirin = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_minamitsu = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_shou = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_byakuren = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = monk }
}
th_define_enemy_danmaku_character_nue = {
	th_set_enemy_character_danmaku_creature_type = { type = nue }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_hatate = {
	th_set_enemy_character_danmaku_creature_type = { type = tengu }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_kyouko = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_yoshika = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_seiga = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_tojiko = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_futo = {
	th_set_enemy_character_danmaku_creature_type = { type = hermit }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_miko = {
	th_set_enemy_character_danmaku_creature_type = { type = hermit }
	th_set_enemy_character_danmaku_class = { class = paladin }
}
th_define_enemy_danmaku_character_mamizou = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_kokoro = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_wakasagihime = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_sekibanki = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_kagerou = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_benben = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_yatsuhashi = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_seija = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_shinmyoumaru = {
	th_set_enemy_character_danmaku_creature_type = { type = inchling }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_raiko = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_sumireko = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_renko = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_maribel = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_seiran = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_ringo = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_doremy = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_sagune = {
	th_set_enemy_character_danmaku_creature_type = { type = lunarian }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_clownpiece = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_junko = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_hecatia = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_toyohime = {
	th_set_enemy_character_danmaku_creature_type = { type = lunarian }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_yorihime = {
	th_set_enemy_character_danmaku_creature_type = { type = lunarian }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_change = {
	th_set_enemy_character_danmaku_creature_type = { type = lunarian }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_reisen_moon = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_joon = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_shion = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_sunny = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_star = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_luna = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_kasen = {
	th_set_enemy_character_danmaku_creature_type = { type = oni }
	th_set_enemy_character_danmaku_class = { class = monk }
}
th_define_enemy_danmaku_character_larva = {
	th_set_enemy_character_danmaku_creature_type = { type = fairy }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_nemuno = {
	th_set_enemy_character_danmaku_creature_type = { type = yamanba }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_aunn = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_narumi = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = mage }
}
th_define_enemy_danmaku_character_teireida = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_satonono = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_okina = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_eika = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_urumi = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_kutaka = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = druid }
}
th_define_enemy_danmaku_character_mayumi = {
	th_set_enemy_character_danmaku_creature_type = { type = tsukumogami }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_keiki = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = cleric }
}
th_define_enemy_danmaku_character_yachie = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_saki = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_yuuma = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_mike = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_takane = {
	th_set_enemy_character_danmaku_creature_type = { type = kappa }
	th_set_enemy_character_danmaku_class = { class = artificer }
}
th_define_enemy_danmaku_character_sannyo = {
	th_set_enemy_character_danmaku_creature_type = { type = yamanba }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_misumaru = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = sorcerer }
}
th_define_enemy_danmaku_character_tsukasa = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_megumu = {
	th_set_enemy_character_danmaku_creature_type = { type = tengu }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_chimata = {
	th_set_enemy_character_danmaku_creature_type = { type = god }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_momoyo = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_son = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = monk }
}
th_define_enemy_danmaku_character_enoko = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = ranger }
}
th_define_enemy_danmaku_character_chiyari = {
	th_set_enemy_character_danmaku_creature_type = { type = demon }
	th_set_enemy_character_danmaku_class = { class = rogue }
}
th_define_enemy_danmaku_character_hisami = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_zanmu = {
	th_set_enemy_character_danmaku_creature_type = { type = oni }
	th_set_enemy_character_danmaku_class = { class = barbarian }
}
th_define_enemy_danmaku_character_rinnosuke = {
	th_set_enemy_character_danmaku_creature_type = { type = half_youkai }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_tokiko = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = warrior }
}
th_define_enemy_danmaku_character_miyoi = {
	th_set_enemy_character_danmaku_creature_type = { type = youkai }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character_mizuchi = {
	th_set_enemy_character_danmaku_creature_type = { type = undead }
	th_set_enemy_character_danmaku_class = { class = warlock }
}
th_define_enemy_danmaku_character_zun = {
	th_set_enemy_character_danmaku_creature_type = { type = human }
	th_set_enemy_character_danmaku_class = { class = bard }
}
th_define_enemy_danmaku_character = {
	set_country_flag = th_is_duelling_character_$target$
	th_define_enemy_danmaku_character_$target$ = yes
}


#Clear effects
th_clear_enemy_character_personality = {
	clr_country_flag = th_is_duelling_character_reimu
	clr_country_flag = th_is_duelling_character_marisa
	clr_country_flag = th_is_duelling_character_mima
	clr_country_flag = th_is_duelling_character_konngara
	clr_country_flag = th_is_duelling_character_sariel
	clr_country_flag = th_is_duelling_character_rika
	clr_country_flag = th_is_duelling_character_meira
	clr_country_flag = th_is_duelling_character_kana
	clr_country_flag = th_is_duelling_character_kotohime
	clr_country_flag = th_is_duelling_character_ellen
	clr_country_flag = th_is_duelling_character_rikako
	clr_country_flag = th_is_duelling_character_chiyuri
	clr_country_flag = th_is_duelling_character_yumemi
	clr_country_flag = th_is_duelling_character_kurumi
	clr_country_flag = th_is_duelling_character_elly	
	clr_country_flag = th_is_duelling_character_gengetsu
	clr_country_flag = th_is_duelling_character_mugetsu
	clr_country_flag = th_is_duelling_character_yuuka
	clr_country_flag = th_is_duelling_character_alice
	clr_country_flag = th_is_duelling_character_yuki
	clr_country_flag = th_is_duelling_character_mai
	clr_country_flag = th_is_duelling_character_yumeko
	clr_country_flag = th_is_duelling_character_shinki
	clr_country_flag = th_is_duelling_character_rumia
	clr_country_flag = th_is_duelling_character_cirno
	clr_country_flag = th_is_duelling_character_daiyousei
	clr_country_flag = th_is_duelling_character_meiling
	clr_country_flag = th_is_duelling_character_koakuma
	clr_country_flag = th_is_duelling_character_patchouli	
	clr_country_flag = th_is_duelling_character_sakuya
	clr_country_flag = th_is_duelling_character_remilia
	clr_country_flag = th_is_duelling_character_flandre
	clr_country_flag = th_is_duelling_character_satsuki
	clr_country_flag = th_is_duelling_character_letty
	clr_country_flag = th_is_duelling_character_chen
	clr_country_flag = th_is_duelling_character_lily
	clr_country_flag = th_is_duelling_character_prismriver
	clr_country_flag = th_is_duelling_character_lunasa
	clr_country_flag = th_is_duelling_character_merlin
	clr_country_flag = th_is_duelling_character_lyrica
	clr_country_flag = th_is_duelling_character_layla
	clr_country_flag = th_is_duelling_character_youmu
	clr_country_flag = th_is_duelling_character_youki	
	clr_country_flag = th_is_duelling_character_yuyuko
	clr_country_flag = th_is_duelling_character_ran
	clr_country_flag = th_is_duelling_character_yukari
	clr_country_flag = th_is_duelling_character_suika
	clr_country_flag = th_is_duelling_character_wriggle
	clr_country_flag = th_is_duelling_character_mystia
	clr_country_flag = th_is_duelling_character_keine
	clr_country_flag = th_is_duelling_character_tewi
	clr_country_flag = th_is_duelling_character_reisen
	clr_country_flag = th_is_duelling_character_eirin
	clr_country_flag = th_is_duelling_character_kaguya
	clr_country_flag = th_is_duelling_character_mokou
	clr_country_flag = th_is_duelling_character_aya
	clr_country_flag = th_is_duelling_character_medicine
	clr_country_flag = th_is_duelling_character_komachi	
	clr_country_flag = th_is_duelling_character_eiki
	clr_country_flag = th_is_duelling_character_shizuha
	clr_country_flag = th_is_duelling_character_minoriko
	clr_country_flag = th_is_duelling_character_hina
	clr_country_flag = th_is_duelling_character_nitori
	clr_country_flag = th_is_duelling_character_momiji
	clr_country_flag = th_is_duelling_character_sanae
	clr_country_flag = th_is_duelling_character_kanako
	clr_country_flag = th_is_duelling_character_suwako
	clr_country_flag = th_is_duelling_character_iku
	clr_country_flag = th_is_duelling_character_tenshi
	clr_country_flag = th_is_duelling_character_kisume
	clr_country_flag = th_is_duelling_character_yamame
	clr_country_flag = th_is_duelling_character_parsee
	clr_country_flag = th_is_duelling_character_yuugi
	clr_country_flag = th_is_duelling_character_satori
	clr_country_flag = th_is_duelling_character_orin
	clr_country_flag = th_is_duelling_character_okuu
	clr_country_flag = th_is_duelling_character_koishi
	clr_country_flag = th_is_duelling_character_nazrin
	clr_country_flag = th_is_duelling_character_kogasa
	clr_country_flag = th_is_duelling_character_ichirin
	clr_country_flag = th_is_duelling_character_minamitsu
	clr_country_flag = th_is_duelling_character_shou
	clr_country_flag = th_is_duelling_character_byakuren
	clr_country_flag = th_is_duelling_character_nue
	clr_country_flag = th_is_duelling_character_hatate
	clr_country_flag = th_is_duelling_character_kyouko
	clr_country_flag = th_is_duelling_character_yoshika
	clr_country_flag = th_is_duelling_character_seiga
	clr_country_flag = th_is_duelling_character_tojiko
	clr_country_flag = th_is_duelling_character_futo
	clr_country_flag = th_is_duelling_character_miko
	clr_country_flag = th_is_duelling_character_mamizou
	clr_country_flag = th_is_duelling_character_kokoro
	clr_country_flag = th_is_duelling_character_wakasagihime
	clr_country_flag = th_is_duelling_character_sekibanki
	clr_country_flag = th_is_duelling_character_kagerou
	clr_country_flag = th_is_duelling_character_benben
	clr_country_flag = th_is_duelling_character_yatsuhashi
	clr_country_flag = th_is_duelling_character_seija
	clr_country_flag = th_is_duelling_character_shinmyoumaru
	clr_country_flag = th_is_duelling_character_raiko
	clr_country_flag = th_is_duelling_character_sumireko
	clr_country_flag = th_is_duelling_character_renko
	clr_country_flag = th_is_duelling_character_maribel
	clr_country_flag = th_is_duelling_character_seiran
	clr_country_flag = th_is_duelling_character_ringo
	clr_country_flag = th_is_duelling_character_doremy
	clr_country_flag = th_is_duelling_character_sagune
	clr_country_flag = th_is_duelling_character_clownpiece
	clr_country_flag = th_is_duelling_character_junko
	clr_country_flag = th_is_duelling_character_hecatia
	clr_country_flag = th_is_duelling_character_toyohime
	clr_country_flag = th_is_duelling_character_yorihime
	clr_country_flag = th_is_duelling_character_change
	clr_country_flag = th_is_duelling_character_reisen_moon
	clr_country_flag = th_is_duelling_character_joon
	clr_country_flag = th_is_duelling_character_shion
	clr_country_flag = th_is_duelling_character_sunny
	clr_country_flag = th_is_duelling_character_star
	clr_country_flag = th_is_duelling_character_luna
	clr_country_flag = th_is_duelling_character_kasen
	clr_country_flag = th_is_duelling_character_larva
	clr_country_flag = th_is_duelling_character_nemuno
	clr_country_flag = th_is_duelling_character_aunn
	clr_country_flag = th_is_duelling_character_narumi
	clr_country_flag = th_is_duelling_character_teireida
	clr_country_flag = th_is_duelling_character_satonono
	clr_country_flag = th_is_duelling_character_okina
	clr_country_flag = th_is_duelling_character_eika
	clr_country_flag = th_is_duelling_character_urumi
	clr_country_flag = th_is_duelling_character_kutaka
	clr_country_flag = th_is_duelling_character_mayumi
	clr_country_flag = th_is_duelling_character_keiki
	clr_country_flag = th_is_duelling_character_yachie
	clr_country_flag = th_is_duelling_character_saki
	clr_country_flag = th_is_duelling_character_yuuma
	clr_country_flag = th_is_duelling_character_mike
	clr_country_flag = th_is_duelling_character_takane
	clr_country_flag = th_is_duelling_character_sannyo
	clr_country_flag = th_is_duelling_character_misumaru
	clr_country_flag = th_is_duelling_character_tsukasa
	clr_country_flag = th_is_duelling_character_megumu
	clr_country_flag = th_is_duelling_character_chimata
	clr_country_flag = th_is_duelling_character_momoyo
	clr_country_flag = th_is_duelling_character_son
	clr_country_flag = th_is_duelling_character_enoko
	clr_country_flag = th_is_duelling_character_chiyari
	clr_country_flag = th_is_duelling_character_hisami
	clr_country_flag = th_is_duelling_character_zanmu
	clr_country_flag = th_is_duelling_character_rinnosuke
	clr_country_flag = th_is_duelling_character_tokiko
	clr_country_flag = th_is_duelling_character_miyoi
	clr_country_flag = th_is_duelling_character_mizuchi
	clr_country_flag = th_is_duelling_character_zun
}
th_clear_enemy_character_creature_type = {
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_human
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_fairy
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_vampire
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_god
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_demigod
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_immortal
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_undead
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_half_phantom
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_half_youkai
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_youkai
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_yama
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_hermit
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_lunarian
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_oni
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_demon
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_devil
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_tengu
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_kappa
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_tsukumogami
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_yamanba
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_nue
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_satori
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_angel
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_shinigami
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_inchling
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_doll
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_robot
	clr_country_flag = th_danmaku_enemy_danmaku_character_creature_type_celestial
}
th_clear_enemy_character_class = {
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_barbarian
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_warrior
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_rogue
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_ranger
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_bard
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_monk
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_paladin
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_cleric
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_priest
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_druid
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_sorcerer
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_warlock
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_mage
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_artificer
	clr_country_flag = th_danmaku_enemy_danmaku_character_class_commoner
}
th_clear_enemy_home = {
	clr_country_flag = th_unlanded_character_home_hell
	clr_country_flag = th_unlanded_character_home_heaven
	clr_country_flag = th_unlanded_character_home_youkai_mountain
	clr_country_flag = th_unlanded_character_home_moon
	clr_country_flag = th_unlanded_character_home_NET
	clr_country_flag = th_unlanded_character_home_FUJ
	clr_country_flag = th_unlanded_character_home_EIT
	clr_country_flag = th_unlanded_character_home_SFF
	clr_country_flag = th_unlanded_character_home_MHG
	clr_country_flag = th_unlanded_character_home_SCR
	clr_country_flag = th_unlanded_character_home_CRD
	clr_country_flag = th_unlanded_character_home_TGU
	clr_country_flag = th_unlanded_character_home_SNK
	clr_country_flag = th_unlanded_character_home_MKI
	clr_country_flag = th_unlanded_character_home_HIG
	clr_country_flag = th_unlanded_character_home_FOM
	clr_country_flag = th_unlanded_character_home_HMC
	clr_country_flag = th_unlanded_character_home_YOF
	clr_country_flag = th_unlanded_character_home_HVR
	clr_country_flag = th_unlanded_character_home_MIM
	clr_country_flag = th_unlanded_character_home_KPP
	clr_country_flag = th_unlanded_character_home_HKR
	clr_country_flag = th_unlanded_character_home_MRY
	clr_country_flag = th_unlanded_character_home_HNG
	clr_country_flag = th_unlanded_character_home_CIN
	clr_country_flag = th_unlanded_character_home_FLR
	clr_country_flag = th_unlanded_character_home_GNK
	clr_country_flag = th_unlanded_character_home_SCD
	clr_country_flag = th_unlanded_character_home_NMG
	clr_country_flag = th_unlanded_character_home_KNN
	clr_country_flag = th_unlanded_character_home_THR
	clr_country_flag = th_unlanded_character_home_OKR
	clr_country_flag = th_unlanded_character_home_YUM
	clr_country_flag = th_unlanded_character_home_TFR
	clr_country_flag = th_unlanded_character_home_LIL
	clr_country_flag = th_unlanded_character_home_LRV
	clr_country_flag = th_unlanded_character_home_AKI
	clr_country_flag = th_unlanded_character_home_ONI
	clr_country_flag = th_unlanded_character_home_KOG
	clr_country_flag = th_unlanded_character_home_MYO
	clr_country_flag = th_unlanded_character_home_OKI
	clr_country_flag = th_unlanded_character_home_PRI
	clr_country_flag = th_unlanded_character_home_KKO
	clr_country_flag = th_unlanded_character_home_SEK
	clr_country_flag = th_unlanded_character_home_NCS
	clr_country_flag = th_unlanded_character_home_RAI
	clr_country_flag = th_unlanded_character_home_KSE
	clr_country_flag = th_unlanded_character_home_CLP
	clr_country_flag = th_unlanded_character_home_JNK
	clr_country_flag = th_unlanded_character_home_HEC
	clr_country_flag = th_unlanded_character_home_SKT
	clr_country_flag = th_unlanded_character_home_YAC
	clr_country_flag = th_unlanded_character_home_GNU
	clr_country_flag = th_unlanded_character_home_LCU
	clr_country_flag = th_unlanded_character_home_KEI
	clr_country_flag = th_unlanded_character_home_SKI
	clr_country_flag = th_unlanded_character_home_ORN
	clr_country_flag = th_unlanded_character_home_OKU
	clr_country_flag = th_unlanded_character_home_FTP
	clr_country_flag = th_unlanded_character_home_LEM
	clr_country_flag = th_unlanded_character_home_MKN
	clr_country_flag = th_unlanded_character_home_KMJ
	clr_country_flag = th_unlanded_character_home_GGS
	clr_country_flag = th_unlanded_character_home_SNZ
	clr_country_flag = th_unlanded_character_home_GYK
	clr_country_flag = th_unlanded_character_home_HIF
	clr_country_flag = th_unlanded_character_home_YME
	clr_country_flag = th_unlanded_character_home_MRU
	clr_country_flag = th_unlanded_character_home_HAK
	clr_country_flag = th_unlanded_character_home_NUE
	clr_country_flag = th_unlanded_character_home_JOO
	clr_country_flag = th_unlanded_character_home_SHI
	clr_country_flag = th_unlanded_character_home_YMU
	clr_country_flag = th_unlanded_character_home_ROD
	clr_country_flag = th_unlanded_character_home_PRS
	clr_country_flag = th_unlanded_character_home_SOU
	clr_country_flag = th_unlanded_character_home_SEI
	clr_country_flag = th_unlanded_character_home_MMU
	clr_country_flag = th_unlanded_character_home_HVA
	clr_country_flag = th_unlanded_character_home_RAN
	clr_country_flag = th_unlanded_character_home_KNE
	clr_country_flag = th_unlanded_character_home_KN2
	clr_country_flag = th_unlanded_character_home_CH2
	clr_country_flag = th_unlanded_character_home_DAY
	clr_country_flag = th_unlanded_character_home_ZUT
}
th_clear_enemy_spell_card = {
	#clr_country_flag = th_unlanded_character_spell_card_$spell_card$
}
th_clear_enemy_trinket = {
	#clr_country_flag = th_unlanded_character_trinket_$trinket$
}
th_clear_enemy_weapon = {
	#clr_country_flag = th_unlanded_character_weapon_$weapon$
}